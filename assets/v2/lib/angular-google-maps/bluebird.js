!function(E){"object"==typeof exports?module.exports=E():"function"==typeof define&&define.amd?define(E):"undefined"!=typeof window?window.Promise=E():"undefined"!=typeof global?global.Promise=E():"undefined"!=typeof self&&(self.Promise=E())}(function(){return function d(q,r,b){function a(h,f){if(!r[h]){if(!q[h]){var e="function"==typeof require&&require;if(!f&&e)return e(h,!0);if(p)return p(h,!0);throw Error("Cannot find module '"+h+"'");}e=r[h]={exports:{}};q[h][0].call(e.exports,function(e){var g=
    q[h][1][e];return a(g?g:e)},e,e.exports,d,q,r,b)}return r[h].exports}for(var p="function"==typeof require&&require,h=0;h<b.length;h++)a(b[h]);return a}({1:[function(d,q,r){q.exports=function(b){function a(a){a=new d(a);var b=a.promise();if(b.isRejected())return b;a.setHowMany(1);a.setUnwrap();a.init();return b}var d=b._SomePromiseArray;b.any=function(b){return a(b)};b.prototype.any=function(){return a(this)}}},{}],2:[function(d,q,r){function b(){this._isTickUsed=!1;this._schedule=a;this._length=0;
        this._lateBuffer=new p(16);this._functionBuffer=new p(65536);var e=this;this.consumeFunctionBuffer=function(){e._consumeFunctionBuffer()}}var a=d("./schedule.js"),p=d("./queue.js"),h=d("./util.js").errorObj,m=d("./util.js").tryCatch1,f="undefined"!==typeof process?process:void 0;b.prototype.haveItemsQueued=function(){return 0<this._length};b.prototype.invokeLater=function(a,b,g){void 0===f||null==f.domain||a.domain||(a=f.domain.bind(a));this._lateBuffer.push(a,b,g);this._queueTick()};b.prototype.invoke=
        function(a,b,g){void 0===f||null==f.domain||a.domain||(a=f.domain.bind(a));var c=this._functionBuffer;c.push(a,b,g);this._length=c.length();this._queueTick()};b.prototype._consumeFunctionBuffer=function(){for(var a=this._functionBuffer;0<a.length();){var b=a.shift(),g=a.shift(),c=a.shift();b.call(g,c)}this._reset();this._consumeLateBuffer()};b.prototype._consumeLateBuffer=function(){for(var a=this._lateBuffer;0<a.length();){var b=a.shift(),g=a.shift(),c=a.shift(),g=m(b,g,c);if(g===h)if(this._queueTick(),
        null!=b.domain)b.domain.emit("error",g.e);else throw g.e;}};b.prototype._queueTick=function(){this._isTickUsed||(this._schedule(this.consumeFunctionBuffer),this._isTickUsed=!0)};b.prototype._reset=function(){this._isTickUsed=!1;this._length=0};q.exports=new b},{"./queue.js":25,"./schedule.js":28,"./util.js":35}],3:[function(d,q,r){d=d("./promise.js")();q.exports=d},{"./promise.js":20}],4:[function(d,q,r){if(r=Object.create){var b=r(null),a=r(null);b[" size"]=a[" size"]=0}q.exports=function(p){function h(a){return new Function("obj",
        "                                             \n        'use strict'                                                         \n        var len = this.length;                                               \n        switch(len) {                                                        \n            case 1: return obj.methodName(this[0]);                          \n            case 2: return obj.methodName(this[0], this[1]);                 \n            case 3: return obj.methodName(this[0], this[1], this[2]);        \n            case 0: return obj.methodName();                                 \n            default: return obj.methodName.apply(obj, this);                 \n        }                                                                    \n        ".replace(/methodName/g,
            a))}function m(a){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",a))}function f(a,t,g){var c=g[a];if("function"!==typeof c){if(!l(a))return null;c=t(a);g[a]=c;g[" size"]++;if(512<g[" size"]){a=Object.keys(g);for(t=0;256>t;++t)delete g[a[t]];g[" size"]=a.length-256}}return c}function e(a){return a[this.pop()].apply(a,
        this)}function n(a){return a[this]}function g(a){return a[this]}var c=d("./util.js"),k=c.canEvaluate,l=c.isIdentifier;p.prototype.call=function(a){for(var g=arguments.length,c=Array(g-1),l=1;l<g;++l)c[l-1]=arguments[l];if(k&&(g=f(a,h,b),null!==g))return this._then(g,void 0,void 0,c,void 0);c.push(a);return this._then(e,void 0,void 0,c,void 0)};p.prototype.get=function(c){var t;"number"!==typeof c?k?(t=f(c,m,a),t=null!==t?t:n):t=n:t=g;return this._then(t,void 0,void 0,c,void 0)}}},{"./util.js":35}],
        5:[function(d,q,r){q.exports=function(b,a){var p=d("./errors.js"),h=p.canAttach,m=d("./async.js"),f=p.CancellationError;b.prototype._cancel=function(a){if(!this.isCancellable())return this;for(var b,g=this;void 0!==(b=g._cancellationParent)&&b.isCancellable();)g=b;g._attachExtraTrace(a);g._rejectUnchecked(a)};b.prototype.cancel=function(a){if(!this.isCancellable())return this;a=void 0!==a?h(a)?a:Error(a+""):new f;m.invokeLater(this._cancel,this,a);return this};b.prototype.cancellable=function(){if(this._cancellable())return this;
            this._setCancellable();this._cancellationParent=void 0;return this};b.prototype.uncancellable=function(){var e=new b(a);e._propagateFrom(this,6);e._follow(this);e._unsetCancellable();return e};b.prototype.fork=function(a,b,g){a=this._then(a,b,g,void 0,void 0);a._setCancellable();a._cancellationParent=void 0;return a}}},{"./async.js":2,"./errors.js":10}],6:[function(d,q,r){q.exports=function(){function b(a){var c;if("function"===typeof a)c="[function "+(a.name||"anonymous")+"]";else{c=a.toString();
            if(/\[object [a-zA-Z0-9$_]+\]/.test(c))try{c=JSON.stringify(a)}catch(b){}0===c.length&&(c="(empty array)")}a=41>c.length?c:c.substr(0,38)+"...";return"(<"+a+">, no stack trace)"}function a(g,c){this.captureStackTrace(a,c)}var p=d("./util.js").inherits,h=d("./es5.js").defineProperty,m=/\b(?:[a-zA-Z0-9.]+\$_\w+|tryCatch(?:1|2|3|4|Apply)|new \w*PromiseArray|\w*PromiseArray\.\w*PromiseArray|setTimeout|CatchFilter\$_\w+|makeNodePromisified|processImmediate|process._tickCallback|nextTick|Async\$\w+)\b/,
            f=null,e=null;p(a,Error);a.prototype.captureStackTrace=function(a,c){n(this,a,c)};a.possiblyUnhandledRejection=function(a){"object"===typeof console&&(a="object"===typeof a||"function"===typeof a?"Possibly unhandled "+e(a.stack,a):"Possibly unhandled "+String(a),"function"===typeof console.error||"object"===typeof console.error?console.error(a):"function"!==typeof console.log&&"object"!==typeof console.log||console.log(a))};a.combine=function(a,c){for(var b=a.length-1,l=c.length-1;0<=l;--l)if(a[b]===
            c[l])a.pop(),b--;else break;a.push("From previous event:");for(var b=a.concat(c),e=[],l=0,t=b.length;l<t;++l)m.test(b[l])&&f.test(b[l])||0<l&&!f.test(b[l])&&"From previous event:"!==b[l]||e.push(b[l]);return e};a.protectErrorMessageNewlines=function(a){for(var c=0;c<a.length&&!f.test(a[c]);++c);if(!(1>=c)){for(var b=[],e=0;e<c;++e)b.push(a.shift());a.unshift(b.join("\u0002\x00\u0001"))}};a.isSupported=function(){return"function"===typeof n};var n=function c(){if("number"===typeof Error.stackTraceLimit&&
            "function"===typeof Error.captureStackTrace){f=/^\s*at\s*/;e=function(a,c){return"string"===typeof a?a:void 0!==c.name&&void 0!==c.message?c.name+". "+c.message:b(c)};var a=Error.captureStackTrace;return function(c,b){a(c,b)}}var l=Error();if("string"===typeof l.stack&&"function"===typeof"".startsWith&&l.stack.startsWith("stackDetection@")&&"stackDetection"===c.name){h(Error,"stackTraceLimit",{writable:!0,enumerable:!1,configurable:!1,value:25});f=/@/;var n=/[@\n]/;e=function(a,c){return"string"===
        typeof a?c.name+". "+c.message+"\n"+a:void 0!==c.name&&void 0!==c.message?c.name+". "+c.message:b(c)};return function(a){for(var c=Error().stack.split(n),b=c.length,e="",l=0;l<b;l+=2)e+=c[l],e+="@",e+=c[l+1],e+="\n";a.stack=e}}e=function(a,c){return"string"===typeof a?a:"object"!==typeof c&&"function"!==typeof c||void 0===c.name||void 0===c.message?b(c):c.name+". "+c.message};return null}();return a}},{"./es5.js":12,"./util.js":35}],7:[function(d,q,r){q.exports=function(b){function a(a,c,b){this._instances=
            a;this._callback=c;this._promise=b}var p=d("./util.js"),h=d("./errors.js"),m=p.tryCatch1,f=p.errorObj,e=d("./es5.js").keys,n=h.TypeError;a.prototype.doFilter=function(a){for(var c=this._callback,k=this._promise._boundTo,l=0,d=this._instances.length;l<d;++l){var t=this._instances[l],u=t===Error||null!=t&&t.prototype instanceof Error;if(u&&a instanceof t)return a=m(c,k,a),a===f?(b.e=a.e,b):a;if("function"===typeof t&&!u)if(u={},t=m(t,u,a),t!==f&&e(u).length&&(f.e=new n("Catch filter must inherit from Error or be a simple predicate function"),
                t=f),t===f){a=h.canAttach(f.e)?f.e:Error(f.e+"");this._promise._attachExtraTrace(a);a=f.e;break}else if(t)return a=m(c,k,a),a===f?(b.e=a.e,b):a}b.e=a;return b};return a}},{"./errors.js":10,"./es5.js":12,"./util.js":35}],8:[function(d,q,r){d=d("./util.js");var b=d.isPrimitive,a=d.wrapsPrimitiveReceiver;q.exports=function(d){var h=function(){return this},m=function(){throw this;},f=function(a,b){if(1===b)return function(){throw a;};if(2===b)return function(){return a}};d.prototype["return"]=d.prototype.thenReturn=
            function(e){return a&&b(e)?this._then(f(e,2),void 0,void 0,void 0,void 0):this._then(h,void 0,void 0,e,void 0)};d.prototype["throw"]=d.prototype.thenThrow=function(e){return a&&b(e)?this._then(f(e,1),void 0,void 0,void 0,void 0):this._then(m,void 0,void 0,e,void 0)}}},{"./util.js":35}],9:[function(d,q,r){q.exports=function(b,a){var d=b.reduce;b.prototype.each=function(b){return d(this,b,null,a)};b.each=function(b,m){return d(b,m,null,a)}}},{}],10:[function(d,q,r){function b(a,c){function b(e){if(!(this instanceof
            b))return new b(e);this.message="string"===typeof e?e:c;this.name=a;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}p(b,Error);return b}function a(a){this.name="OperationalError";this.cause=this.message=a;this.isOperational=!0;a instanceof Error?(this.message=a.message,this.stack=a.stack):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}r=d("./es5.js").freeze;d=d("./util.js");var p=d.inherits,h=d.notEnumerableProp,m,f;d=b("CancellationError","cancellation error");
            var e=b("TimeoutError","timeout error"),n=b("AggregateError","aggregate error");try{m=TypeError,f=RangeError}catch(l){m=b("TypeError","type error"),f=b("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),c=0;c<g.length;++c)"function"===typeof Array.prototype[g[c]]&&(n.prototype[g[c]]=Array.prototype[g[c]]);n.prototype.length=0;n.prototype.isOperational=!0;var k=0;n.prototype.toString=
                function(){var a=Array(4*k+1).join(" "),c="\n"+a+"AggregateError of:\n";k++;for(var a=Array(4*k+1).join(" "),b=0;b<this.length;++b){for(var e=this[b]===this?"[Circular AggregateError]":this[b]+"",e=e.split("\n"),g=0;g<e.length;++g)e[g]=a+e[g];e=e.join("\n");c+=e+"\n"}k--;return c};p(a,Error);g=Error.__BluebirdErrorTypes__;g||(g=r({CancellationError:d,TimeoutError:e,OperationalError:a,RejectionError:a,AggregateError:n}),h(Error,"__BluebirdErrorTypes__",g));q.exports={Error:Error,TypeError:m,RangeError:f,
                CancellationError:g.CancellationError,OperationalError:g.OperationalError,TimeoutError:g.TimeoutError,AggregateError:g.AggregateError,originatesFromRejection:function(c){return null==c?!1:c instanceof a||!0===c.isOperational},markAsOriginatingFromRejection:function(a){try{h(a,"isOperational",!0)}catch(c){}},canAttach:function(a){return a instanceof Error}}},{"./es5.js":12,"./util.js":35}],11:[function(d,q,r){q.exports=function(b){var a=d("./errors.js").TypeError;return function(d){d=new a(d);var h=
            b.rejected(d),m=h._peekContext();null!=m&&m._attachExtraTrace(d);return h}}},{"./errors.js":10}],12:[function(d,q,r){if(d=function(){return void 0===this}())q.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,keys:Object.keys,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:d};else{var b={}.hasOwnProperty,a={}.toString,p={}.constructor.prototype;q.exports={isArray:function(b){try{return"[object Array]"===a.call(b)}catch(d){return!1}},keys:function(a){var d=[],f;for(f in a)b.call(a,
            f)&&d.push(f);return d},defineProperty:function(a,b,d){a[b]=d.value;return a},freeze:function(a){return a},getPrototypeOf:function(a){try{return Object(a).constructor.prototype}catch(b){return p}},isES5:d}}},{}],13:[function(d,q,r){q.exports=function(b,a){var d=b.map;b.prototype.filter=function(b,m){return d(this,b,m,a)};b.filter=function(b,m,f){return d(b,m,f,a)}}},{}],14:[function(d,q,r){q.exports=function(b,a,p){function h(){return this}function m(){throw this;}function f(a){return function(){return a}}
            function e(a){return function(){throw a;}}function n(a,c,b){b=l&&F(c)?b?f(c):e(c):b?h:m;return a._then(b,t,void 0,c,void 0)}function g(c){var e=this.promise,t=this.handler,t=e._isBound()?t.call(e._boundTo):t();return void 0!==t&&(t=p(t,void 0),t instanceof b)?n(t,c,e.isFulfilled()):e.isRejected()?(a.e=c,a):c}function c(a){var c=this.promise,e=this.handler,c=c._isBound()?e.call(c._boundTo,a):e(a);return void 0!==c&&(c=p(c,void 0),c instanceof b)?n(c,a,!0):a}var k=d("./util.js"),l=k.wrapsPrimitiveReceiver,
                F=k.isPrimitive,t=k.thrower;b.prototype._passThroughHandler=function(a,b){return"function"!==typeof a?this.then():this._then(b?g:c,b?g:void 0,void 0,{promise:this,handler:a},void 0)};b.prototype.lastly=b.prototype["finally"]=function(a){return this._passThroughHandler(a,!0)};b.prototype.tap=function(a){return this._passThroughHandler(a,!1)}}},{"./util.js":35}],15:[function(d,q,r){q.exports=function(b,a,p,h){function m(a,c){for(var e=k,g=c.length,d=0;d<g;++d){var n=l(c[d],void 0,a);if(n===e)return b.reject(e.e);
            n=h(n,m);if(n instanceof b)return n}return null}function f(a,c,e){(this._promise=new b(p))._setTrace(void 0);this._generatorFunction=a;this._receiver=c;this._generator=void 0;this._yieldHandlers="function"===typeof e?[e].concat(F):F}var e=d("./errors.js"),n=e.TypeError,g=d("./util.js").deprecated,c=d("./util.js"),k=c.errorObj,l=c.tryCatch1,F=[];f.prototype.promise=function(){return this._promise};f.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=
            this._generatorFunction=void 0;this._next(void 0)};f.prototype._continue=function(a){if(a===k){this._generator=void 0;var c=e.canAttach(a.e)?a.e:Error(a.e+"");this._promise._attachExtraTrace(c);this._promise._reject(a.e,c)}else if(c=a.value,!0===a.done)this._generator=void 0,this._promise._tryFollow(c)||this._promise._fulfill(c);else{a=h(c,void 0);if(!(a instanceof b)&&(a=m(a,this._yieldHandlers),null===a)){this._throw(new n("A value was yielded that could not be treated as a promise"));return}a._then(this._next,
            this._throw,void 0,this,null)}};f.prototype._throw=function(a){e.canAttach(a)&&this._promise._attachExtraTrace(a);this._continue(l(this._generator["throw"],this._generator,a))};f.prototype._next=function(a){this._continue(l(this._generator.next,this._generator,a))};b.coroutine=function(a,c){if("function"!==typeof a)throw new n("generatorFunction must be a function");var b=Object(c).yieldHandler;return function(){var c=a.apply(this,arguments),e=new f(void 0,void 0,b);e._generator=c;e._next(void 0);
            return e.promise()}};b.coroutine.addYieldHandler=function(a){if("function"!==typeof a)throw new n("fn must be a function");F.push(a)};b.spawn=function(c){g("Promise.spawn is deprecated. Use Promise.coroutine instead.");if("function"!==typeof c)return a("generatorFunction must be a function");c=new f(c,this);var e=c.promise();c._run(b.spawn);return e}}},{"./errors.js":10,"./util.js":35}],16:[function(d,q,r){q.exports=function(b,a,p,h){var m=d("./util.js"),f=m.canEvaluate,e=m.tryCatch1,n=m.errorObj;
            if(f){for(var m=function(a){for(var c=[],b=1;b<=a;++b)c.push("holder.p"+b);return new Function("holder","                                      \n            'use strict';                                                    \n            var callback = holder.fn;                                        \n            return callback(values);                                         \n            ".replace(/values/g,c.join(", ")))},g=[],c=[void 0],k=1;5>=k;++k)g.push(new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,
                k))),c.push(m(k));var l=function(a,c){this.p1=this.p2=this.p3=this.p4=this.p5=null;this.fn=c;this.total=a;this.now=0};l.prototype.callers=c;l.prototype.checkFulfillment=function(a){var c=this.now;c++;var b=this.total;c>=b?(c=e(this.callers[b],void 0,this),c===n?a._rejectUnchecked(c.e):a._tryFollow(c)||a._fulfillUnchecked(c)):this.now=c}}b.join=function(){var c=arguments.length-1,e;if(0<c&&"function"===typeof arguments[c]&&(e=arguments[c],6>c&&f)){var k=new b(h);k._setTrace(void 0);e=new l(c,e);for(var d=
                k._reject,n=g,m=0;m<c;++m){var v=p(arguments[m],void 0);v instanceof b?v.isPending()?v._then(n[m],d,void 0,k,e):v.isFulfilled()?n[m].call(k,v._settledValue,e):(k._reject(v._settledValue),v._unsetRejectionIsUnhandled()):n[m].call(k,v,e)}return k}c=arguments.length;k=Array(c);for(d=0;d<c;++d)k[d]=arguments[d];k=(new a(k)).promise();return void 0!==e?k.spread(e):k}}},{"./util.js":35}],17:[function(d,q,r){q.exports=function(b,a,p,h,m){function f(a,c,b,e){this.constructor$(a);this._callback=c;this._preservedValues=
            e===m?Array(this.length()):null;this._limit=b;this._inFlight=0;this._queue=1<=b?[]:l;this._init$(void 0,-2)}function e(a,c,b,e){b="object"===typeof b&&null!==b?b.concurrency:0;b="number"===typeof b&&isFinite(b)&&1<=b?b:0;return new f(a,c,b,e)}var n=d("./util.js"),g=n.tryCatch3,c=n.errorObj,k={},l=[];n.inherits(f,a);f.prototype._init=function(){};f.prototype._promiseFulfilled=function(a,e){var d=this._values;if(null!==d){var l=this.length(),n=this._preservedValues,f=this._limit;if(d[e]===k){if(d[e]=
                a,1<=f&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(1<=f&&this._inFlight>=f){d[e]=a;this._queue.push(e);return}null!==n&&(n[e]=a);var m=g(this._callback,this._promise._boundTo,a,e,l);if(m===c)return this._reject(m.e);var p=h(m,void 0);if(p instanceof b){if(p.isPending())return 1<=f&&this._inFlight++,d[e]=k,p._proxyPromiseArray(this,e);if(p.isFulfilled())m=p.value();else return p._unsetRejectionIsUnhandled(),this._reject(p.reason())}d[e]=m}++this._totalResolved>=l&&(null!==
        n?this._filter(d,n):this._resolve(d))}};f.prototype._drainQueue=function(){for(var a=this._queue,c=this._limit,b=this._values;0<a.length&&this._inFlight<c;){var e=a.pop();this._promiseFulfilled(b[e],e)}};f.prototype._filter=function(a,c){for(var b=c.length,e=Array(b),g=0,k=0;k<b;++k)a[k]&&(e[g++]=c[k]);e.length=g;this._resolve(e)};f.prototype.preservedValues=function(){return this._preservedValues};b.prototype.map=function(a,c){return"function"!==typeof a?p("fn must be a function"):e(this,a,c,null).promise()};
            b.map=function(a,c,b,g){return"function"!==typeof c?p("fn must be a function"):e(a,c,b,g).promise()}}},{"./util.js":35}],18:[function(d,q,r){q.exports=function(b){function a(a){throw a;}function p(b,g){if(!f.isArray(b))return h(b,g);var d=f.tryCatchApply(this,[null].concat(b),g);d===c&&e.invokeLater(a,void 0,d.e)}function h(b,d){var h=void 0===b?g(this,d,null):n(this,d,null,b);h===c&&e.invokeLater(a,void 0,h.e)}function m(b,d){var n=g(this,d,b);n===c&&e.invokeLater(a,void 0,n.e)}var f=d("./util.js"),
            e=d("./async.js"),n=f.tryCatch2,g=f.tryCatch1,c=f.errorObj;b.prototype.nodeify=function(a,c){if("function"==typeof a){var b=h;void 0!==c&&Object(c).spread&&(b=p);this._then(b,m,void 0,a,this._boundTo)}return this}}},{"./async.js":2,"./util.js":35}],19:[function(d,q,r){q.exports=function(b,a){var p=d("./util.js"),h=d("./async.js"),m=d("./errors.js"),f=p.tryCatch1,e=p.errorObj;b.prototype.progressed=function(a){return this._then(void 0,void 0,a,void 0,void 0)};b.prototype._progress=function(a){this._isFollowingOrFulfilledOrRejected()||
        this._progressUnchecked(a)};b.prototype._clearFirstHandlerData$Base=b.prototype._clearFirstHandlerData;b.prototype._clearFirstHandlerData=function(){this._clearFirstHandlerData$Base();this._progressHandler0=void 0};b.prototype._progressHandlerAt=function(a){return 0===a?this._progressHandler0:this[(a<<2)+a-5+2]};b.prototype._doProgressWith=function(a){var g=a.promise;a=f(a.handler,a.receiver,a.value);if(a===e){if(null!=a.e&&"StopProgressPropagation"!==a.e.name){var c=m.canAttach(a.e)?a.e:Error(a.e+
        "");g._attachExtraTrace(c);g._progress(a.e)}}else a instanceof b?a._then(g._progress,null,null,g,void 0):g._progress(a)};b.prototype._progressUnchecked=function(e){if(this.isPending())for(var g=this._length(),c=this._progress,d=0;d<g;d++){var l=this._progressHandlerAt(d),f=this._promiseAt(d);if(f instanceof b)"function"===typeof l?h.invoke(this._doProgressWith,this,{handler:l,promise:f,receiver:this._receiverAt(d),value:e}):h.invoke(c,f,e);else{var t=this._receiverAt(d);"function"===typeof l?l.call(t,
            e,f):t instanceof b&&t._isProxied()?t._progressUnchecked(e):t instanceof a&&t._promiseProgressed(e,f)}}}}},{"./async.js":2,"./errors.js":10,"./util.js":35}],20:[function(d,q,r){var b;"undefined"!==typeof Promise&&(b=Promise);q.exports=function(){function a(c){if("function"!==typeof c)throw new y("the promise constructor requires a resolver function");if(this.constructor!==a)throw new y("the promise constructor cannot be invoked directly");this._bitField=0;this._boundTo=this._settledValue=this._receiver0=
            this._promise0=this._rejectionHandler0=this._fulfillmentHandler0=void 0;c!==e&&this._resolveFromResolver(c)}function p(a){return a[0]}var h=d("./util.js"),m=d("./async.js"),f=d("./errors.js"),e=function(){},n={},g={e:null},c=d("./thenables.js")(a,e),k=d("./promise_array.js")(a,e,c),l=d("./captured_trace.js")(),q=d("./catch_filter.js")(g),t=d("./promise_resolver.js"),u=h.isArray,r=h.errorObj,B=h.tryCatch1,A=h.tryCatch2,v=h.tryCatchApply,L=f.RangeError,y=f.TypeError,w=f.CancellationError,z=f.TimeoutError,
            J=f.OperationalError,M=f.originatesFromRejection,K=f.markAsOriginatingFromRejection,C=f.canAttach,N=h.thrower,D=d("./errors_api_rejection")(a),G=function(){return new y("circular promise resolution chain")};a.prototype.bind=function(b){var g=c(b,void 0),d=new a(e);g instanceof a?(b=g.then(function(a){d._setBoundTo(a)}),b=a.all([this,b]).then(p),d._follow(b)):(d._follow(this),d._setBoundTo(b));d._propagateFrom(this,3);return d};a.prototype.toString=function(){return"[object Promise]"};a.prototype.caught=
            a.prototype["catch"]=function(c){var b=arguments.length;if(1<b){var e=Array(b-1),g=0,d;for(d=0;d<b-1;++d){var k=arguments[d];if("function"===typeof k)e[g++]=k;else return b=new y("A catch filter must be an error constructor or a filter function"),this._attachExtraTrace(b),a.reject(b)}e.length=g;c=arguments[d];this._resetTrace();b=new q(e,c,this);return this._then(void 0,b.doFilter,void 0,b,void 0)}return this._then(void 0,c,void 0,void 0,void 0)};a.prototype.then=function(a,c,b){return this._then(a,
            c,b,void 0,void 0)};a.prototype.done=function(a,c,b){this._then(a,c,b,void 0,void 0)._setIsFinal()};a.prototype.spread=function(a,c){return this._then(a,c,void 0,n,void 0)};a.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()};a.prototype.toJSON=function(){var a={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};this.isFulfilled()?(a.fulfillmentValue=this._settledValue,a.isFulfilled=!0):this.isRejected()&&(a.rejectionReason=this._settledValue,
            a.isRejected=!0);return a};a.prototype.all=function(){return(new k(this)).promise()};a.is=function(c){return c instanceof a};a.all=function(a){return(new k(a)).promise()};a.prototype.error=function(a){return this.caught(M,a)};a.prototype._resolveFromSyncValue=function(b){if(b===r)this._cleanValues(),this._setRejected(),this._settledValue=b.e,this._ensurePossibleRejectionHandled();else{var e=c(b,void 0);e instanceof a?this._follow(e):(this._cleanValues(),this._setFulfilled(),this._settledValue=b)}};
            a.method=function(c){if("function"!==typeof c)throw new y("fn must be a function");return function(){var b;switch(arguments.length){case 0:b=B(c,this,void 0);break;case 1:b=B(c,this,arguments[0]);break;case 2:b=A(c,this,arguments[0],arguments[1]);break;default:b=arguments.length;for(var g=Array(b),d=0;d<b;++d)g[d]=arguments[d];b=v(c,g,this)}g=new a(e);g._setTrace(void 0);g._resolveFromSyncValue(b);return g}};a.attempt=a["try"]=function(c,b,g){if("function"!==typeof c)return D("fn must be a function");
                c=u(b)?v(c,b,g):B(c,g,b);b=new a(e);b._setTrace(void 0);b._resolveFromSyncValue(c);return b};a.defer=a.pending=function(){var c=new a(e);c._setTrace(void 0);return new t(c)};a.bind=function(b){var g=c(b,void 0),d=new a(e);d._setTrace(void 0);g instanceof a?(b=g.then(function(a){d._setBoundTo(a)}),d._follow(b)):(d._setBoundTo(b),d._setFulfilled());return d};a.cast=function(b){b=c(b,void 0);if(!(b instanceof a)){var g=b;b=new a(e);b._setTrace(void 0);b._setFulfilled();b._cleanValues();b._settledValue=
                g}return b};a.resolve=a.fulfilled=a.cast;a.reject=a.rejected=function(c){var b=new a(e);b._setTrace(void 0);K(c);b._cleanValues();b._setRejected();b._settledValue=c;C(c)||b._setCarriedStackTrace(Error(c+""));b._ensurePossibleRejectionHandled();return b};a.onPossiblyUnhandledRejection=function(a){l.possiblyUnhandledRejection="function"===typeof a?a:void 0};var I;a.onUnhandledRejectionHandled=function(a){I="function"===typeof a?a:void 0};var x=!("undefined"===typeof process||"string"!==typeof process.execPath||
            "object"!==typeof process.env||!process.env.BLUEBIRD_DEBUG&&"development"!==process.env.NODE_ENV);a.longStackTraces=function(){if(m.haveItemsQueued()&&!1===x)throw Error("cannot enable long stack traces after promises have been created");x=l.isSupported()};a.hasLongStackTraces=function(){return x&&l.isSupported()};a.prototype._then=function(c,b,g,d,k){var l=void 0!==k;k=l?k:new a(e);l||(x&&(l=this._peekContext()===this._traceParent,k._traceParent=l?this._traceParent:this),k._propagateFrom(this,7));
                c=this._addCallbacks(c,b,g,k,d);this.isResolved()&&m.invoke(this._queueSettleAt,this,c);return k};a.prototype._length=function(){return this._bitField&262143};a.prototype._isFollowingOrFulfilledOrRejected=function(){return 0<(this._bitField&939524096)};a.prototype._isFollowing=function(){return 536870912===(this._bitField&536870912)};a.prototype._setLength=function(a){this._bitField=this._bitField&-262144|a&262143};a.prototype._setFulfilled=function(){this._bitField|=268435456};a.prototype._setRejected=
                function(){this._bitField|=134217728};a.prototype._setFollowing=function(){this._bitField|=536870912};a.prototype._setIsFinal=function(){this._bitField|=33554432};a.prototype._isFinal=function(){return 0<(this._bitField&33554432)};a.prototype._cancellable=function(){return 0<(this._bitField&67108864)};a.prototype._setCancellable=function(){this._bitField|=67108864};a.prototype._unsetCancellable=function(){this._bitField&=-67108865};a.prototype._setRejectionIsUnhandled=function(){this._bitField|=2097152};
            a.prototype._unsetRejectionIsUnhandled=function(){this._bitField&=-2097153;this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())};a.prototype._isRejectionUnhandled=function(){return 0<(this._bitField&2097152)};a.prototype._setUnhandledRejectionIsNotified=function(){this._bitField|=524288};a.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField&=-524289};a.prototype._isUnhandledRejectionNotified=function(){return 0<
                (this._bitField&524288)};a.prototype._setCarriedStackTrace=function(a){this._bitField|=1048576;this._fulfillmentHandler0=a};a.prototype._unsetCarriedStackTrace=function(){this._bitField&=-1048577;this._fulfillmentHandler0=void 0};a.prototype._isCarryingStackTrace=function(){return 0<(this._bitField&1048576)};a.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0};a.prototype._receiverAt=function(a){a=0===a?this._receiver0:this[(a<<2)+a-5+
            4];return this._isBound()&&void 0===a?this._boundTo:a};a.prototype._promiseAt=function(a){return 0===a?this._promise0:this[(a<<2)+a-5+3]};a.prototype._fulfillmentHandlerAt=function(a){return 0===a?this._fulfillmentHandler0:this[(a<<2)+a-5+0]};a.prototype._rejectionHandlerAt=function(a){return 0===a?this._rejectionHandler0:this[(a<<2)+a-5+1]};a.prototype._addCallbacks=function(a,c,b,e,g){var d=this._length();262138<=d&&(d=0,this._setLength(0));if(0===d)this._promise0=e,void 0!==g&&(this._receiver0=
                g),"function"!==typeof a||this._isCarryingStackTrace()||(this._fulfillmentHandler0=a),"function"===typeof c&&(this._rejectionHandler0=c),"function"===typeof b&&(this._progressHandler0=b);else{var k=(d<<2)+d-5;this[k+3]=e;this[k+4]=g;this[k+0]="function"===typeof a?a:void 0;this[k+1]="function"===typeof c?c:void 0;this[k+2]="function"===typeof b?b:void 0}this._setLength(d+1);return d};a.prototype._setProxyHandlers=function(a,c){var b=this._length();262138<=b&&(b=0,this._setLength(0));if(0===b)this._promise0=
                c,this._receiver0=a;else{var e=(b<<2)+b-5;this[e+3]=c;this[e+4]=a;this[e+0]=this[e+1]=this[e+2]=void 0}this._setLength(b+1)};a.prototype._proxyPromiseArray=function(a,c){this._setProxyHandlers(a,c)};a.prototype._proxyPromise=function(a){a._setProxied();this._setProxyHandlers(a,-15)};a.prototype._setBoundTo=function(a){void 0!==a?(this._bitField|=8388608,this._boundTo=a):this._bitField&=-8388609};a.prototype._isBound=function(){return 8388608===(this._bitField&8388608)};a.prototype._resolveFromResolver=
                function(a){var c=this;this._setTrace(void 0);this._pushContext();a=A(a,void 0,function(a){c._tryFollow(a)||c._fulfill(a)},function(a){var b=C(a)?a:Error(a+"");c._attachExtraTrace(b);K(a);c._reject(a,b===a?void 0:b)});this._popContext();if(void 0!==a&&a===r){a=a.e;var b=C(a)?a:Error(a+"");c._reject(a,b)}};a.prototype._spreadSlowCase=function(a,c,b,e){b=(new k(b)).promise()._then(function(){return a.apply(e,arguments)},void 0,void 0,n,void 0);c._follow(b)};a.prototype._callSpread=function(b,e,g){var d=
                this._boundTo;if(u(g))for(var k=0,l=g.length;k<l;++k)if(c(g[k],void 0)instanceof a){this._spreadSlowCase(b,e,g,d);return}e._pushContext();return v(b,g,d)};a.prototype._callHandler=function(a,c,b,e){c!==n||this.isRejected()?(b._pushContext(),a=B(a,c,e)):a=this._callSpread(a,b,e);b._popContext();return a};a.prototype._settlePromiseFromHandler=function(b,e,d,k){k instanceof a?(b=this._callHandler(b,e,k,d),k._isFollowing()||(b===r||b===k||b===g?(d=b===k?G():b.e,e=C(d)?d:Error(d+""),b!==g&&k._attachExtraTrace(e),
                k._rejectUnchecked(d,e)):(d=c(b,k),d instanceof a?(!d.isRejected()||d._isCarryingStackTrace()||C(d._settledValue)||(e=Error(d._settledValue+""),k._attachExtraTrace(e),d._setCarriedStackTrace(e)),k._follow(d),k._propagateFrom(d,1)):k._fulfillUnchecked(b)))):b.call(e,d,k)};a.prototype._follow=function(a){this._setFollowing();a.isPending()?(this._propagateFrom(a,1),a._proxyPromise(this)):a.isFulfilled()?this._fulfillUnchecked(a._settledValue):this._rejectUnchecked(a._settledValue,a._getCarriedStackTrace());
                a._isRejectionUnhandled()&&a._unsetRejectionIsUnhandled();x&&null==a._traceParent&&(a._traceParent=this)};a.prototype._tryFollow=function(b){if(this._isFollowingOrFulfilledOrRejected()||b===this)return!1;b=c(b,void 0);if(!(b instanceof a))return!1;this._follow(b);return!0};a.prototype._resetTrace=function(){x&&(this._trace=new l(void 0===this._peekContext()))};a.prototype._setTrace=function(a){if(x){var c=this._peekContext();this._traceParent=c;this._trace=void 0!==a&&a._traceParent===c?a._trace:
                new l(void 0===c)}return this};a.prototype._attachExtraTrace=function(a){if(x){var c=this,b=a.stack,b="string"===typeof b?b.split("\n"):[];l.protectErrorMessageNewlines(b);for(var e=1;null!=c&&null!=c._trace;)b=l.combine(b,c._trace.stack.split("\n")),c=c._traceParent,e++;c=((Error.stackTraceLimit||10)+1)*e;e=b.length;e>c&&(b.length=c);0<e&&(b[0]=b[0].split("\u0002\x00\u0001").join("\n"));a.stack=1>=b.length?"(No stack trace)":b.join("\n")}};a.prototype._cleanValues=function(){this._cancellable()&&
            (this._cancellationParent=void 0)};a.prototype._propagateFrom=function(a,c){0<(c&1)&&a._cancellable()&&(this._setCancellable(),this._cancellationParent=a);0<(c&4)&&this._setBoundTo(a._boundTo);0<(c&2)&&this._setTrace(a)};a.prototype._fulfill=function(a){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(a)};a.prototype._reject=function(a,c){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(a,c)};a.prototype._settlePromiseAt=function(c){var b=this.isFulfilled()?this._fulfillmentHandlerAt(c):
                this._rejectionHandlerAt(c),e=this._settledValue,d=this._receiverAt(c),g=this._promiseAt(c);if("function"===typeof b)this._settlePromiseFromHandler(b,d,e,g);else{var b=!1,l=this.isFulfilled();void 0!==d&&(d instanceof a&&d._isProxied()?(d._unsetProxied(),l?d._fulfillUnchecked(e):d._rejectUnchecked(e,this._getCarriedStackTrace()),b=!0):d instanceof k&&(l?d._promiseFulfilled(e,g):d._promiseRejected(e,g),b=!0));b||(l?g._fulfill(e):g._reject(e,this._getCarriedStackTrace()))}4<=c&&this._queueGC()};a.prototype._isProxied=
                function(){return 4194304===(this._bitField&4194304)};a.prototype._setProxied=function(){this._bitField|=4194304};a.prototype._unsetProxied=function(){this._bitField&=-4194305};a.prototype._isGcQueued=function(){return-1073741824===(this._bitField&-1073741824)};a.prototype._setGcQueued=function(){this._bitField|=-1073741824};a.prototype._unsetGcQueued=function(){this._bitField&=1073741823};a.prototype._queueGC=function(){this._isGcQueued()||(this._setGcQueued(),m.invokeLater(this._gc,this,void 0))};
            a.prototype._gc=function(){for(var a=5*this._length()-5,c=0;c<a;c++)delete this[c];this._clearFirstHandlerData();this._setLength(0);this._unsetGcQueued()};a.prototype._clearFirstHandlerData=function(){this._receiver0=this._promise0=this._rejectionHandler0=this._fulfillmentHandler0=void 0};a.prototype._queueSettleAt=function(a){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled();m.invoke(this._settlePromiseAt,this,a)};a.prototype._fulfillUnchecked=function(a){if(this.isPending()){if(a===
                this)return a=G(),this._attachExtraTrace(a),this._rejectUnchecked(a,void 0);this._cleanValues();this._setFulfilled();this._settledValue=a;a=this._length();0<a&&m.invoke(this._settlePromises,this,a)}};a.prototype._rejectUncheckedCheckError=function(a){var c=C(a)?a:Error(a+"");this._rejectUnchecked(a,c===a?void 0:c)};a.prototype._rejectUnchecked=function(a,c){if(this.isPending()){if(a===this){var b=G();this._attachExtraTrace(b);return this._rejectUnchecked(b)}this._cleanValues();this._setRejected();
                this._settledValue=a;this._isFinal()?m.invokeLater(N,void 0,void 0===c?a:c):(b=this._length(),void 0!==c&&this._setCarriedStackTrace(c),0<b?m.invoke(this._rejectPromises,this,null):this._ensurePossibleRejectionHandled())}};a.prototype._rejectPromises=function(){this._settlePromises();this._unsetCarriedStackTrace()};a.prototype._settlePromises=function(){for(var a=this._length(),c=0;c<a;c++)this._settlePromiseAt(c)};a.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled();
                void 0!==l.possiblyUnhandledRejection&&m.invokeLater(this._notifyUnhandledRejection,this,void 0)};a.prototype._notifyUnhandledRejectionIsHandled=function(){"function"===typeof I&&m.invokeLater(I,void 0,this)};a.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var a=this._settledValue,c=this._getCarriedStackTrace();this._setUnhandledRejectionIsNotified();void 0!==c&&(this._unsetCarriedStackTrace(),a=c);"function"===typeof l.possiblyUnhandledRejection&&l.possiblyUnhandledRejection(a,
                this)}};var H=[];a.prototype._peekContext=function(){var a=H.length-1;if(0<=a)return H[a]};a.prototype._pushContext=function(){x&&H.push(this)};a.prototype._popContext=function(){x&&H.pop()};a.noConflict=function(){try{Promise===a&&(Promise=b)}catch(c){}return a};a.setScheduler=function(a){if("function"!==typeof a)throw new y("fn must be a function");m._schedule=a};l.isSupported()||(a.longStackTraces=function(){},x=!1);a._makeSelfResolutionError=G;d("./finally.js")(a,g,c);d("./direct_resolve.js")(a);
            d("./synchronous_inspection.js")(a);d("./join.js")(a,k,c,e);a.RangeError=L;a.CancellationError=w;a.TimeoutError=z;a.TypeError=y;a.OperationalError=J;a.RejectionError=J;a.AggregateError=f.AggregateError;h.toFastProperties(a);h.toFastProperties(a.prototype);a.Promise=a;d("./timers.js")(a,e,c);d("./race.js")(a,e,c);d("./call_get.js")(a);d("./generators.js")(a,D,e,c);d("./map.js")(a,k,D,c,e);d("./nodeify.js")(a);d("./promisify.js")(a,e);d("./props.js")(a,k,c);d("./reduce.js")(a,k,D,c,e);d("./settle.js")(a,
                k);d("./some.js")(a,k,D);d("./progress.js")(a,k);d("./cancel.js")(a,e);d("./filter.js")(a,e);d("./any.js")(a,k);d("./each.js")(a,e);d("./using.js")(a,D,c);a.prototype=a.prototype;return a}},{"./any.js":1,"./async.js":2,"./call_get.js":4,"./cancel.js":5,"./captured_trace.js":6,"./catch_filter.js":7,"./direct_resolve.js":8,"./each.js":9,"./errors.js":10,"./errors_api_rejection":11,"./filter.js":13,"./finally.js":14,"./generators.js":15,"./join.js":16,"./map.js":17,"./nodeify.js":18,"./progress.js":19,
            "./promise_array.js":21,"./promise_resolver.js":22,"./promisify.js":23,"./props.js":24,"./race.js":26,"./reduce.js":27,"./settle.js":29,"./some.js":30,"./synchronous_inspection.js":31,"./thenables.js":32,"./timers.js":33,"./using.js":34,"./util.js":35}],21:[function(d,q,r){q.exports=function(b,a,p){function h(a){switch(a){case -2:return[];case -3:return{}}}function m(e){var d=this._promise=new b(a),c=void 0;e instanceof b&&(c=e,d._propagateFrom(c,5));d._setTrace(c);this._values=e;this._totalResolved=
            this._length=0;this._init(void 0,-2)}var f=d("./errors.js").canAttach,e=d("./util.js").isArray;m.prototype.length=function(){return this._length};m.prototype.promise=function(){return this._promise};m.prototype._init=function g(a,d){var l=p(this._values,void 0);if(l instanceof b)if(this._values=l,l._setBoundTo(this._promise._boundTo),l.isFulfilled()){if(l=l._settledValue,!e(l)){l=new b.TypeError("expecting an array, a promise or a thenable");this.__hardReject__(l);return}}else{l.isPending()?l._then(g,
            this._reject,void 0,this,d):(l._unsetRejectionIsUnhandled(),this._reject(l._settledValue));return}else if(!e(l)){l=new b.TypeError("expecting an array, a promise or a thenable");this.__hardReject__(l);return}if(0===l.length)-5===d?this._resolveEmptyArray():this._resolve(h(d));else{for(var f=this.getActualLength(l.length),t=this.shouldCopyValues()?Array(f):this._values,m=!1,q=0;q<f;++q){var r=p(l[q],void 0);r instanceof b?r.isPending()?r._proxyPromiseArray(this,q):(r._unsetRejectionIsUnhandled(),m=
            !0):m=!0;t[q]=r}this._values=t;this._length=f;m&&this._scanDirectValues(f)}};m.prototype._settlePromiseAt=function(a){var c=this._values[a];c instanceof b?c.isFulfilled()?this._promiseFulfilled(c._settledValue,a):c.isRejected()&&this._promiseRejected(c._settledValue,a):this._promiseFulfilled(c,a)};m.prototype._scanDirectValues=function(a){for(var c=0;c<a&&!this._isResolved();++c)this._settlePromiseAt(c)};m.prototype._isResolved=function(){return null===this._values};m.prototype._resolve=function(a){this._values=
            null;this._promise._fulfill(a)};m.prototype.__hardReject__=m.prototype._reject=function(a){this._values=null;var c=f(a)?a:Error(a+"");this._promise._attachExtraTrace(c);this._promise._reject(a,c)};m.prototype._promiseProgressed=function(a,c){this._isResolved()||this._promise._progress({index:c,value:a})};m.prototype._promiseFulfilled=function(a,c){this._isResolved()||(this._values[c]=a,++this._totalResolved>=this._length&&this._resolve(this._values))};m.prototype._promiseRejected=function(a,c){this._isResolved()||
        (this._totalResolved++,this._reject(a))};m.prototype.shouldCopyValues=function(){return!0};m.prototype.getActualLength=function(a){return a};return m}},{"./errors.js":10,"./util.js":35}],22:[function(d,q,r){function b(b){return function(c,d){if(null!==b){if(c){var l=a(c),l=l instanceof Error&&e.getPrototypeOf(l)===Error.prototype?new m(l):l;p.markAsOriginatingFromRejection(l);b._attachExtraTrace(l);b._reject(l)}else if(2<arguments.length){for(var l=arguments.length,f=Array(l-1),h=1;h<l;++h)f[h-1]=
            arguments[h];b._fulfill(f)}else b._fulfill(d);b=null}}}r=d("./util.js");var a=r.maybeWrapAsError,p=d("./errors.js"),h=p.TimeoutError,m=p.OperationalError,f=d("./async.js");r=r.haveGetters;var e=d("./es5.js"),n;n=r?function(a){this.promise=a}:function(a){this.promise=a;this.callback=this.asCallback=b(a)};r&&(d={get:function(){return b(this.promise)}},e.defineProperty(n.prototype,"asCallback",d),e.defineProperty(n.prototype,"callback",d));n._nodebackForPromise=b;n.prototype.toString=function(){return"[object PromiseResolver]"};
            n.prototype.resolve=n.prototype.fulfill=function(a){if(!(this instanceof n))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");var c=this.promise;c._tryFollow(a)||f.invoke(c._fulfill,c,a)};n.prototype.reject=function(a){if(!(this instanceof n))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");
                var c=this.promise;p.markAsOriginatingFromRejection(a);var b=p.canAttach(a)?a:Error(a+"");c._attachExtraTrace(b);f.invoke(c._reject,c,a);b!==a&&f.invoke(this._setCarriedStackTrace,this,b)};n.prototype.progress=function(a){if(!(this instanceof n))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");f.invoke(this.promise._progress,this.promise,a)};n.prototype.cancel=function(){f.invoke(this.promise.cancel,
                this.promise,void 0)};n.prototype.timeout=function(){this.reject(new h("timeout"))};n.prototype.isResolved=function(){return this.promise.isResolved()};n.prototype.toJSON=function(){return this.promise.toJSON()};n.prototype._setCarriedStackTrace=function(a){this.promise.isRejected()&&this.promise._setCarriedStackTrace(a)};q.exports=n},{"./async.js":2,"./errors.js":10,"./es5.js":12,"./util.js":35}],23:[function(d,q,r){q.exports=function(b,a){function p(a){try{return!0===a.__isPromisified__}catch(c){return!1}}
            function h(a){for(var c=[a],b=Math.max(0,a-1-5),e=a-1;e>=b;--e)e!==a&&c.push(e);for(e=a+1;5>=e;++e)c.push(e);return c}function m(a){return c.isIdentifier(a)?"."+a:"['"+a.replace(/(['\\])/g,"\\$1")+"']"}function f(e,d,f,n,t){n=Math.max(0,("number"===typeof n.length?Math.max(Math.min(n.length,1024),0):0)-1);var p=h(n);f="string"===typeof f&&c.isIdentifier(f)?f+t:"promisified";return(new Function("Promise","callback","receiver","withAppended","maybeWrapAsError","nodebackForPromise","INTERNAL","                                         \n        var ret = function FunctionName(Parameters) {                        \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._setTrace(void 0);                                       \n            var fn = nodebackForPromise(promise);                            \n            try {                                                            \n                switch(len) {                                                \n                    [CodeForSwitchCase]                                      \n                }                                                            \n            } catch (e) {                                                    \n                var wrapped = maybeWrapAsError(e);                           \n                promise._attachExtraTrace(wrapped);                          \n                promise._reject(wrapped);                                    \n            }                                                                \n            return promise;                                                  \n        };                                                                   \n        ret.__isPromisified__ = true;                                        \n        return ret;                                                          \n        ".replace("FunctionName",
                f).replace("Parameters",c.filledRange(n,"_arg","")).replace("[CodeForSwitchCase]",function(){for(var a="",b=0;b<p.length;++b){var k="case "+p[b]+":",l,f=p[b];l=c.filledRange(f,"arguments[","]").join(", ");var f=0<f?", ":"",h=void 0,h="string"===typeof e?"                                                          \n                this.method({{args}}, fn);                                   \n                break;                                                       \n            ".replace(".method",
                    m(e)):d===g?"                                                         \n                callback.call(this, {{args}}, fn);                           \n                break;                                                       \n            ":void 0!==d?"                                                         \n                callback.call(receiver, {{args}}, fn);                       \n                break;                                                       \n            ":"                                                         \n                callback({{args}}, fn);                                      \n                break;                                                       \n            ";
                    l=h.replace("{{args}}",l).replace(", ",f);a+=k+l}b="string"===typeof e?"                                                  \n                this.property.apply(this, args);                             \n            ".replace(".property",m(e)):d===g?"                                                  \n                callback.apply(this, args);                                  \n            ":"                                                  \n                callback.apply(receiver, args);                              \n            ";
                    return a+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = fn;                                                    \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",
                        b)}())))(b,e,d,l,q,k,a)}function e(c,e){function d(){var f=e;e===g&&(f=this);"string"===typeof c&&(c=f[c]);var h=new b(a);h._setTrace(void 0);var n=k(h);try{c.apply(f,l(arguments,n))}catch(m){f=q(m),h._attachExtraTrace(f),h._reject(f)}return h}d.__isPromisified__=!0;return d}function n(a,b,e,d){for(var k=new RegExp(b.replace(/([$])/,"\\$")+"$"),l=c.inheritedDataKeys(a),f=[],h=0;h<l.length;++h){var n=l[h],m=a[n],t;(t="function"!==typeof m||p(m))||(t=(t=c.getDataPropertyOrDefault(a,n+b,B))?p(t):!1);
                t||!e(n,m,a)||f.push(n,m)}for(e=0;e<f.length;e+=2)if(l=f[e],k.test(l))for(l=l.replace(k,""),h=0;h<f.length;h+=2)if(f[h]===l)throw new u("Cannot promisify an API that has normal methods with '"+b+"'-suffix");k=0;for(e=f.length;k<e;k+=2)l=f[k],h=f[k+1],a[l+b]=d===A?A(l,g,l,h,b):d(h);c.toFastProperties(a);return a}var g={},c=d("./util.js"),k=d("./promise_resolver.js")._nodebackForPromise,l=c.withAppended,q=c.maybeWrapAsError,t=c.canEvaluate,u=d("./errors").TypeError,r=function(a,b){return c.isIdentifier(a)&&
                "_"!==a.charAt(0)&&!c.isClass(b)},B={__isPromisified__:!0},A=t?f:e;b.promisify=function(a,c){if("function"!==typeof a)throw new u("fn must be a function");return p(a)?a:A(a,2>arguments.length?g:c,void 0,a)};b.promisifyAll=function(a,b){if("function"!==typeof a&&"object"!==typeof a)throw new u("the target of promisifyAll must be an object or a function");b=Object(b);var e=b.suffix;"string"!==typeof e&&(e="Async");var d=b.filter;"function"!==typeof d&&(d=r);var k=b.promisifier;"function"!==typeof k&&
            (k=A);if(!c.isIdentifier(e))throw new RangeError("suffix must be a valid identifier");for(var g=c.inheritedDataKeys(a,{includeHidden:!0}),l=0;l<g.length;++l){var f=a[g[l]];"constructor"!==g[l]&&c.isClass(f)&&(n(f.prototype,e,d,k),n(f,e,d,k))}return n(a,e,d,k)}}},{"./errors":10,"./promise_resolver.js":22,"./util.js":35}],24:[function(d,q,r){q.exports=function(b,a,p){function h(a){for(var b=g.keys(a),e=b.length,d=Array(2*e),f=0;f<e;++f){var h=b[f];d[f]=a[h];d[f+e]=h}this.constructor$(d)}function m(a){var d=
            p(a,void 0);if(n(d))a=d instanceof b?d._then(b.props,void 0,void 0,void 0,void 0):(new h(d)).promise();else return e("cannot await properties of a non-object");d instanceof b&&a._propagateFrom(d,4);return a}var f=d("./util.js"),e=d("./errors_api_rejection")(b),n=f.isObject,g=d("./es5.js");f.inherits(h,a);h.prototype._init=function(){this._init$(void 0,-3)};h.prototype._promiseFulfilled=function(a,b){if(!this._isResolved()&&(this._values[b]=a,++this._totalResolved>=this._length)){for(var e={},d=this.length(),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        g=0,f=this.length();g<f;++g)e[this._values[g+d]]=this._values[g];this._resolve(e)}};h.prototype._promiseProgressed=function(a,b){this._isResolved()||this._promise._progress({key:this._values[b+this.length()],value:a})};h.prototype.shouldCopyValues=function(){return!1};h.prototype.getActualLength=function(a){return a>>1};b.prototype.props=function(){return m(this)};b.props=function(a){return m(a)}}},{"./errors_api_rejection":11,"./es5.js":12,"./util.js":35}],25:[function(d,q,r){function b(a,b,d,f,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     e){for(var n=0;n<e;++n)d[n+f]=a[n+b]}function a(a){this._capacity=a;this._front=this._length=0;this._makeCapacity()}a.prototype._willBeOverCapacity=function(a){return this._capacity<a};a.prototype._pushOne=function(a){var b=this.length();this._checkCapacity(b+1);this[this._front+b&this._capacity-1]=a;this._length=b+1};a.prototype.push=function(a,b,d){var f=this.length()+3;if(this._willBeOverCapacity(f))this._pushOne(a),this._pushOne(b),this._pushOne(d);else{var e=this._front+f-3;this._checkCapacity(f);
            var n=this._capacity-1;this[e+0&n]=a;this[e+1&n]=b;this[e+2&n]=d;this._length=f}};a.prototype.shift=function(){var a=this._front,b=this[a];this[a]=void 0;this._front=a+1&this._capacity-1;this._length--;return b};a.prototype.length=function(){return this._length};a.prototype._makeCapacity=function(){for(var a=this._capacity,b=0;b<a;++b)this[b]=void 0};a.prototype._checkCapacity=function(a){this._capacity<a&&this._resizeTo(this._capacity<<3)};a.prototype._resizeTo=function(a){var d=this._front,m=this._capacity,
            f=Array(m),e=this.length();b(this,0,f,0,m);this._capacity=a;this._makeCapacity();this._front=0;d+e<=m?b(f,d,this,0,e):(a=e-(d+e&m-1),b(f,d,this,0,a),b(f,0,this,a,e-a))};q.exports=a},{}],26:[function(d,q,r){q.exports=function(b,a,p){function h(d,c){var k=p(d,void 0);if(k instanceof b)return e(k);if(!f(d))return m("expecting an array, a promise or a thenable");k=new b(a);void 0!==c?k._propagateFrom(c,7):k._setTrace(void 0);for(var l=k._fulfill,h=k._reject,t=0,q=d.length;t<q;++t){var r=d[t];(void 0!==
        r||n.call(d,t))&&b.cast(r)._then(l,h,void 0,k,null)}return k}var m=d("./errors_api_rejection.js")(b),f=d("./util.js").isArray,e=function(a){return a.then(function(b){return h(b,a)})},n={}.hasOwnProperty;b.race=function(a){return h(a,void 0)};b.prototype.race=function(){return h(this,void 0)}}},{"./errors_api_rejection.js":11,"./util.js":35}],27:[function(d,q,r){q.exports=function(b,a,p,h,m){function f(a,c,e,d){this.constructor$(a);this._preservedValues=d===m?[]:null;this._zerothIsAccum=void 0===e;
            this._gotAccum=!1;this._reducingIndex=this._zerothIsAccum?1:0;this._valuesPhase=void 0;a=h(e,void 0);d=!1;var g=a instanceof b;g&&(a.isPending()?a._proxyPromiseArray(this,-1):a.isFulfilled()?(e=a.value(),this._gotAccum=!0):(a._unsetRejectionIsUnhandled(),this._reject(a.reason()),d=!0));g||this._zerothIsAccum||(this._gotAccum=!0);this._callback=c;this._accum=e;d||this._init$(void 0,-5)}function e(a,b,c,e){return"function"!==typeof b?p("fn must be a function"):(new f(a,b,c,e)).promise()}var n=d("./util.js"),
            g=n.tryCatch4,c=n.tryCatch3,k=n.errorObj;n.inherits(f,a);f.prototype._init=function(){};f.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)};f.prototype._promiseFulfilled=function(a,e){var d=this._values;if(null!==d){var f=this.length(),n=this._preservedValues,m=null!==n,p=this._gotAccum,q=this._valuesPhase,r;if(!q)for(q=this._valuesPhase=Array(f),r=0;r<f;++r)q[r]=0;r=q[e];0===e&&this._zerothIsAccum?(p||(this._accum=
            a,this._gotAccum=p=!0),q[e]=0===r?1:2):-1===e?p||(this._accum=a,this._gotAccum=p=!0):0===r?q[e]=1:(q[e]=2,p&&(this._accum=a));if(p){for(var p=this._callback,y=this._promise._boundTo,w=this._reducingIndex;w<f;++w)if(r=q[w],2===r)this._reducingIndex=w+1;else{if(1!==r)return;a=d[w];if(a instanceof b)if(a.isFulfilled())a=a._settledValue;else{if(a.isPending())return;a._unsetRejectionIsUnhandled();return this._reject(a.reason())}m?(n.push(a),r=c(p,y,a,w,f)):r=g(p,y,this._accum,a,w,f);if(r===k)return this._reject(r.e);
            var z=h(r,void 0);if(z instanceof b){if(z.isPending())return q[w]=4,z._proxyPromiseArray(this,w);if(z.isFulfilled())r=z.value();else return z._unsetRejectionIsUnhandled(),this._reject(z.reason())}this._reducingIndex=w+1;this._accum=r}this._reducingIndex<f||this._resolve(m?n:this._accum)}}};b.prototype.reduce=function(a,b){return e(this,a,b,null)};b.reduce=function(a,b,c,d){return e(a,b,c,d)}}},{"./util.js":35}],28:[function(d,q,r){var b;if("object"===typeof process&&"string"===typeof process.version)d=
            function(a){process.nextTick(a)};else if("undefined"!==typeof MutationObserver&&(b=MutationObserver)||"undefined"!==typeof WebKitMutationObserver&&(b=WebKitMutationObserver))d=function(){var a=document.createElement("div"),d=void 0;(new b(function(){var a=d;d=void 0;a()})).observe(a,{attributes:!0});return function(b){d=b;a.classList.toggle("foo")}}();else if("undefined"!==typeof setTimeout)d=function(a){setTimeout(a,0)};else throw Error("no async scheduler available");q.exports=d},{}],29:[function(d,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    q,r){q.exports=function(b,a){function p(a){this.constructor$(a)}var h=b.PromiseInspection;d("./util.js").inherits(p,a);p.prototype._promiseResolved=function(a,b){this._values[a]=b;++this._totalResolved>=this._length&&this._resolve(this._values)};p.prototype._promiseFulfilled=function(a,b){if(!this._isResolved()){var e=new h;e._bitField=268435456;e._settledValue=a;this._promiseResolved(b,e)}};p.prototype._promiseRejected=function(a,b){if(!this._isResolved()){var e=new h;e._bitField=134217728;e._settledValue=
            a;this._promiseResolved(b,e)}};b.settle=function(a){return(new p(a)).promise()};b.prototype.settle=function(){return(new p(this)).promise()}}},{"./util.js":35}],30:[function(d,q,r){q.exports=function(b,a,p){function h(a){this.constructor$(a);this._howMany=0;this._initialized=this._unwrap=!1}function m(a,b){if((b|0)!==b||0>b)return p("expecting a positive integer");var e=new h(a),d=e.promise();if(d.isRejected())return d;e.setHowMany(b);e.init();return d}var f=d("./util.js"),e=d("./errors.js").RangeError,
            n=d("./errors.js").AggregateError,g=f.isArray;f.inherits(h,a);h.prototype._init=function(){if(this._initialized)if(0===this._howMany)this._resolve([]);else{this._init$(void 0,-5);var a=g(this._values);!this._isResolved()&&a&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}};h.prototype.init=function(){this._initialized=!0;this._init()};h.prototype.setUnwrap=function(){this._unwrap=!0};h.prototype.howMany=function(){return this._howMany};h.prototype.setHowMany=
            function(a){this._isResolved()||(this._howMany=a)};h.prototype._promiseFulfilled=function(a){this._isResolved()||(this._addFulfilled(a),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values)))};h.prototype._promiseRejected=function(a){if(!this._isResolved()&&(this._addRejected(a),this.howMany()>this._canPossiblyFulfill())){a=new n;for(var b=this.length();b<this._values.length;++b)a.push(this._values[b]);
            this._reject(a)}};h.prototype._fulfilled=function(){return this._totalResolved};h.prototype._rejected=function(){return this._values.length-this.length()};h.prototype._addRejected=function(a){this._values.push(a)};h.prototype._addFulfilled=function(a){this._values[this._totalResolved++]=a};h.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()};h.prototype._getRangeError=function(a){return new e("Input array must contain at least "+this._howMany+" items but contains only "+
        a+" items")};h.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};b.some=function(a,b){return m(a,b)};b.prototype.some=function(a){return m(this,a)};b._SomePromiseArray=h}},{"./errors.js":10,"./util.js":35}],31:[function(d,q,r){q.exports=function(b){function a(a){void 0!==a?(this._bitField=a._bitField,this._settledValue=a.isResolved()?a._settledValue:void 0):(this._bitField=0,this._settledValue=void 0)}a.prototype.isFulfilled=b.prototype.isFulfilled=function(){return 0<
            (this._bitField&268435456)};a.prototype.isRejected=b.prototype.isRejected=function(){return 0<(this._bitField&134217728)};a.prototype.isPending=b.prototype.isPending=function(){return 0===(this._bitField&402653184)};a.prototype.value=b.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise");return this._settledValue};a.prototype.error=a.prototype.reason=b.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise");
            return this._settledValue};a.prototype.isResolved=b.prototype.isResolved=function(){return 0<(this._bitField&402653184)};b.PromiseInspection=a}},{}],32:[function(d,q,r){q.exports=function(b,a){function p(a,c,e){function d(c){p||(p=!0,a===c?(c=b._makeSelfResolutionError(),void 0!==e&&e._attachExtraTrace(c),h.promise._reject(c,void 0)):h.resolve(c))}function f(a){if(!p){p=!0;var b=m(a)?a:Error(a+"");void 0!==e&&e._attachExtraTrace(b);h.promise._reject(a,b)}}function n(a){if(!p){var b=h.promise;"function"===
        typeof b._progress&&b._progress(a)}}var h=b.defer(),p=!1;try{c.call(a,d,f,n)}catch(q){p||(p=!0,c=m(q)?q:Error(q+""),void 0!==e&&e._attachExtraTrace(c),h.promise._reject(q,c))}return h.promise}var h=d("./util.js"),m=d("./errors.js").canAttach,f=h.errorObj,e=h.isObject,n={}.hasOwnProperty;return function(d,c){if(e(d)){if(d instanceof b)return d;if(n.call(d,"_promise0")){var k=new b(a);k._setTrace(void 0);d._then(k._fulfillUnchecked,k._rejectUncheckedCheckError,k._progressUnchecked,k,null);k._setFollowing();
            return k}try{k=d.then}catch(h){f.e=h,k=f}if(k===f)return void 0!==c&&m(k.e)&&c._attachExtraTrace(k.e),b.reject(k.e);if("function"===typeof k)return p(d,k,c)}return d}}},{"./errors.js":10,"./util.js":35}],33:[function(d,q,r){var b=function(a,b){var d=arguments[2],m=arguments[3],f=5<=arguments.length?arguments[4]:void 0;setTimeout(function(){a(d,m,f)},b|0)};q.exports=function(a,p,h){d("./util.js");var m=d("./errors.js");d("./errors_api_rejection")(a);var f=a.TimeoutError,e=function(a,b,e){a.isPending()&&
        ("string"!==typeof b&&(b="operation timed out after "+e+" ms"),b=new f(b),m.markAsOriginatingFromRejection(b),a._attachExtraTrace(b),a._cancel(b))},n=function(a,b){b._fulfill(a)},g=a.delay=function(c,e){void 0===e&&(e=c,c=void 0);e=+e;var d=h(c,void 0),f=new a(p);if(d instanceof a)return f._propagateFrom(d,7),f._follow(d),f.then(function(b){return a.delay(b,e)});f._setTrace(void 0);b(n,e,c,f);return f};a.prototype.delay=function(a){return g(this,a)};a.prototype.timeout=function(c,d){c=+c;var f=new a(p);
            f._propagateFrom(this,7);f._follow(this);b(e,c,f,d,c);return f.cancellable()}}},{"./errors.js":10,"./errors_api_rejection":11,"./util.js":35}],34:[function(d,q,r){q.exports=function(b,a,p){function h(a){for(var c=a.length,e=0;e<c;++e){var d=a[e];if(d.isRejected())return b.reject(d.error());a[e]=d.value()}return a}function m(a){setTimeout(function(){throw a;},0)}function f(a,c){function e(){if(d>=f)return g.resolve();var k;k=a[d++];var h=p(k,void 0);h!==k&&"function"===typeof k._isDisposable&&"function"===
        typeof k._getDisposer&&k._isDisposable()&&h._setDisposable(k._getDisposer());k=h;if(k instanceof b&&k._isDisposable()){try{k=p(k._getDisposer().tryDispose(c),void 0)}catch(n){return m(n)}if(k instanceof b)return k._then(e,m,null,null,null)}e()}var d=0,f=a.length,g=b.defer();e();return g.promise}function e(a){var b=new q;b._settledValue=a;b._bitField=268435456;return f(this,b).thenReturn(a)}function n(a){var b=new q;b._settledValue=a;b._bitField=134217728;return f(this,b).thenThrow(a)}function g(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            b){this._data=a;this._promise=b}function c(a,b){this.constructor$(a,b)}var k=d("./errors.js").TypeError,l=d("./util.js").inherits,q=b.PromiseInspection;g.prototype.data=function(){return this._data};g.prototype.promise=function(){return this._promise};g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null};g.prototype.tryDispose=function(a){var b=this.resource();a=null!==b?this.doDispose(b,a):null;this._promise._unsetDisposable();this._data=this._promise=null;
            return a};g.isDisposer=function(a){return null!=a&&"function"===typeof a.resource&&"function"===typeof a.tryDispose};l(c,g);c.prototype.doDispose=function(a,b){return this.data().call(a,a,b)};b.using=function(){var c=arguments.length;if(2>c)return a("you must pass at least 2 arguments to Promise.using");var d=arguments[c-1];if("function"!==typeof d)return a("fn must be a function");c--;for(var f=Array(c),k=0;k<c;++k){var l=arguments[k];if(g.isDisposer(l)){var m=l,l=l.promise();l._setDisposable(m)}f[k]=
            l}return b.settle(f).then(h).spread(d)._then(e,n,void 0,f,void 0)};b.prototype._setDisposable=function(a){this._bitField|=262144;this._disposer=a};b.prototype._isDisposable=function(){return 0<(this._bitField&262144)};b.prototype._getDisposer=function(){return this._disposer};b.prototype._unsetDisposable=function(){this._bitField&=-262145;this._disposer=void 0};b.prototype.disposer=function(a){if("function"===typeof a)return new c(a,this);throw new k;}}},{"./errors.js":10,"./util.js":35}],35:[function(d,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       q,r){function b(a){return"string"===typeof a?a:""+a}function a(a){return null==a||!0===a||!1===a||"string"===typeof a||"number"===typeof a}var p=d("./es5.js");d=function(){try{var a={};p.defineProperty(a,"f",{get:function(){return 3}});return 3===a.f}catch(b){return!1}}();r="undefined"==typeof navigator;var h={e:{}},m=function(){return"string"!==this}.call("string"),f=/^[a-z$_][a-z$_0-9]*$/i;d={isClass:function(a){try{if("function"===typeof a){var b=p.keys(a.prototype);return 0<b.length&&!(1===b.length&&
            "constructor"===b[0])}return!1}catch(d){return!1}},isIdentifier:function(a){return f.test(a)},inheritedDataKeys:function(){return p.isES5?function(a,b){for(var d=[],c=Object.create(null),f=Object(b).includeHidden?Object.getOwnPropertyNames:Object.keys;null!=a;){var h;try{h=f(a)}catch(m){break}for(var q=0;q<h.length;++q){var r=h[q];if(!c[r]){c[r]=!0;var u=Object.getOwnPropertyDescriptor(a,r);null!=u&&null==u.get&&null==u.set&&d.push(r)}}a=p.getPrototypeOf(a)}return d}:function(a){var b=[],d;for(d in a)b.push(d);
            return b}}(),getDataPropertyOrDefault:function(a,b,d){if(p.isES5){if(a=Object.getOwnPropertyDescriptor(a,b),null!=a)return null==a.get&&null==a.set?a.value:d}else return{}.hasOwnProperty.call(a,b)?a[b]:void 0},thrower:function(a){throw a;},isArray:p.isArray,haveGetters:d,notEnumerableProp:function(b,d,f){if(a(b))return b;p.defineProperty(b,d,{value:f,configurable:!0,enumerable:!1,writable:!0});return b},isPrimitive:a,isObject:function(b){return!a(b)},canEvaluate:r,errorObj:h,tryCatch1:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               b,d){try{return a.call(b,d)}catch(c){return h.e=c,h}},tryCatch2:function(a,b,d,c){try{return a.call(b,d,c)}catch(f){return h.e=f,h}},tryCatch3:function(a,b,d,c,f){try{return a.call(b,d,c,f)}catch(l){return h.e=l,h}},tryCatch4:function(a,b,d,c,f,l){try{return a.call(b,d,c,f,l)}catch(m){return h.e=m,h}},tryCatchApply:function(a,b,d){try{return a.apply(d,b)}catch(c){return h.e=c,h}},inherits:function(a,b){function d(){this.constructor=a;this.constructor$=b;for(var f in b.prototype)c.call(b.prototype,
            f)&&"$"!==f.charAt(f.length-1)&&(this[f+"$"]=b.prototype[f])}var c={}.hasOwnProperty;d.prototype=b.prototype;a.prototype=new d;return a.prototype},withAppended:function(a,b){var d=a.length,c=Array(d+1),f;for(f=0;f<d;++f)c[f]=a[f];c[f]=b;return c},asString:b,maybeWrapAsError:function(d){return a(d)?Error(b(d)):d},wrapsPrimitiveReceiver:m,toFastProperties:function(a){function b(){}b.prototype=a;return b},filledRange:function(a,b,d){for(var c=Array(a),f=0;f<a;++f)c[f]=b+f+d;return c}};q.exports=d},{"./es5.js":12}]},
    {},[3])(3)});"undefined"!==typeof window&&null!==window?window.P=window.Promise:"undefined"!==typeof self&&null!==self&&(self.P=self.Promise);