angular.module("Slidebox",[]).directive("slidebox",function(){return{template:'<div class="slidebox-container"><div class="slidebox"><div ng-transclude class="slidebox-content"></div></div><div class="slidebox-controls slidebox-left1"></div><div class="slidebox-controls slidebox-right1"></div></div>',replace:!0,transclude:!0,restrict:"AE",scope:!1,link:function(r,m,e){function k(a){f=a?g/-2:g/2;p=setInterval(function(){d.scrollLeft+=f;h=!0},50)}function l(a){clearInterval(p);a.style.opacity=n;f=0}
    function q(a,b,c){var d=a.offsetWidth,e=a.getBoundingClientRect().left;b=(b-e)/d;c?(--b,a.style.opacity=n+-1*b,a=Math.floor):(a.style.opacity=n+b,a=Math.ceil);f=a(b*g)}var d=m.children()[0],b=m.children()[1],c=m.children()[2],f=0,n=Number(getComputedStyle(b).opacity),g=Number(e.speed)||25,p,h=!0;didHover=!1;e.contentWidth&&r.$watch(e.contentWidth,function(a){a==Number(a)&&(a+="px");d.children[0].style.width=a;h=!0});e.contentClass&&(d.children[0].className+=" "+e.contentClass);b.addEventListener("mouseover",
        function(){b.style.display="block";k()},!1);b.addEventListener("mousemove",function(a){q(b,a.clientX,!0)},!1);b.addEventListener("mouseout",function(){l(b)},!1);b.addEventListener("touchstart",function(a){a.preventDefault();k();f=g/-2;b.style.opacity=1},!1);b.addEventListener("touchend",function(a){a.preventDefault();l(b)},!1);c.addEventListener("mouseover",function(){c.style.display="block";k()});c.addEventListener("mousemove",function(a){q(c,a.clientX,!1)});c.addEventListener("mouseout",function(){l(c)},
        !1);c.addEventListener("touchstart",function(a){a.preventDefault();k();f=g/2;c.style.opacity=1},!1);c.addEventListener("touchend",function(a){a.preventDefault();l(c)},!1);d.addEventListener("scroll",function(){h=!0});d.addEventListener("mouseover",function(){didHover=!0;0===d.scrollLeft?(b.style.display="none",c.style.display="block"):d.scrollLeft===d.scrollWidth-d.offsetWidth?(c.style.display="none",b.style.display="block"):(b.style.display="block",c.style.display="block")});d.addEventListener("mouseout",
        function(){didHover=!1;b.style.display="none";c.style.display="none"});setInterval(function(){h&&(h=!1)},250)}}});