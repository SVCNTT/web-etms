(function(g){"function"===typeof define&&define.amd?define(["jquery","moment"],g):g(jQuery,moment)})(function(g,r){function ta(a){R(U,a)}function R(a){function b(b,c){g.isPlainObject(c)&&g.isPlainObject(a[b])&&!/(Time|Duration)$/.test(b)?a[b]=R({},a[b],c):void 0!==c&&(a[b]=c)}for(var c=1;c<arguments.length;c++)g.each(arguments[c],b);return a}function Xa(a,b){function c(){return a.is(":visible")}function d(a){e(0,a)}function e(a,b){F++;t&&b&&t.name!==b&&(u.deactivateButton(t.name),p(),t.start&&t.destroy(),
    t.el.remove(),t=null);!t&&b&&(t=new M[b](n),t.el=g("<div class='fc-view fc-"+b+"-view' />").appendTo(C),u.activateButton(b));t&&(a&&(D=t.incrementDate(D,a)),t.start&&!a&&D.isWithin(t.intervalStart,t.intervalEnd)||!c()||(p(),t.start&&t.destroy(),t.render(D),l(),u.updateTitle(t.title),n.getNow().isWithin(t.intervalStart,t.intervalEnd)?u.disableButton("today"):u.enableButton("today"),!q.lazyFetching||L(t.start,t.end)?w(t.start,t.end):m()));l();F--}function f(a){if(c())return a&&h(),F++,t.updateSize(!0),
    F--,!0}function h(){W="number"===typeof q.contentHeight?q.contentHeight:"number"===typeof q.height?q.height-(S?S.outerHeight(!0):0):Math.round(C.width()/Math.max(q.aspectRatio,.5))}function k(a){!F&&a.target===window&&t.start&&f(!0)&&t.trigger("windowResize",ua)}function m(){c()&&(p(),t.destroyEvents(),t.renderEvents(x),l())}function p(){C.css({width:"100%",height:C.height(),overflow:"hidden"})}function l(){C.css({width:"",height:"",overflow:""})}var n=this;b=b||{};var q=R({},U,b),G;(G=q.lang in N?
    N[q.lang]:N[U.lang])&&(q=R({},U,G,b));q.isRTL&&(q=R({},U,Ya,G||{},b));n.options=q;n.render=function(b){C?c()&&(c()&&h(),e(b)):(a.addClass("fc"),q.isRTL?a.addClass("fc-rtl"):a.addClass("fc-ltr"),q.theme?a.addClass("ui-widget"):a.addClass("fc-unthemed"),C=g("<div class='fc-view-container'/>").prependTo(a),u=new Za(n,q),(S=u.render())&&a.prepend(S),d(q.defaultView),q.handleWindowResize&&(T=va(k,q.windowResizeDelay),g(window).resize(T)))};n.destroy=function(){t&&t.destroy();u.destroy();C.remove();a.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget");
    g(window).unbind("resize",T)};n.refetchEvents=function(){p();t.destroyEvents();l();w(t.start,t.end)};n.reportEvents=function(a){x=a;m()};n.reportEventChange=function(){m()};n.rerenderEvents=m;n.changeView=d;n.select=function(a,b){a=n.moment(a);b=b?n.moment(b):a.hasTime()?a.clone().add(n.defaultTimedEventDuration):a.clone().add(n.defaultAllDayEventDuration);t.select(a,b)};n.unselect=function(){t&&t.unselect()};n.prev=function(){e(-1)};n.next=function(){e(1)};n.prevYear=function(){D.add(-1,"years");
    e()};n.nextYear=function(){D.add(1,"years");e()};n.today=function(){D=n.getNow();e()};n.gotoDate=function(a){D=n.moment(a);e()};n.incrementDate=function(a){D.add(r.duration(a));e()};n.zoomTo=function(a,b){var c,e;b&&void 0!==M[b]||(b=b||"day",c=u.getViewsWithButtons().join(" "),(e=c.match(new RegExp("\\w+"+wa(b))))||(e=c.match(/\w+Day/)),b=e?e[0]:"agendaDay");D=a;d(b)};n.getDate=function(){return D.clone()};n.getCalendar=function(){return n};n.getView=function(){return t};n.option=function(a,b){if(void 0===
    b)return q[a];if("height"==a||"contentHeight"==a||"aspectRatio"==a)q[a]=b,f(!0)};n.trigger=function(a,b){if(q[a])return q[a].apply(b||ua,Array.prototype.slice.call(arguments,2))};var z=A(function(a){var b=r.localeData||r.langData;return b.call(r,a)||b.call(r,"en")}(q.lang));q.monthNames&&(z._months=q.monthNames);q.monthNamesShort&&(z._monthsShort=q.monthNamesShort);q.dayNames&&(z._weekdays=q.dayNames);q.dayNamesShort&&(z._weekdaysShort=q.dayNamesShort);null!=q.firstDay&&(G=A(z._week),G.dow=q.firstDay,
    z._week=G);n.defaultAllDayEventDuration=r.duration(q.defaultAllDayEventDuration);n.defaultTimedEventDuration=r.duration(q.defaultTimedEventDuration);n.moment=function(){var a;"local"===q.timezone?(a=v.moment.apply(null,arguments),a.hasTime()&&a.local()):a="UTC"===q.timezone?v.moment.utc.apply(null,arguments):v.moment.parseZone.apply(null,arguments);"_locale"in a?a._locale=z:a._lang=z;return a};n.getIsAmbigTimezone=function(){return"local"!==q.timezone&&"UTC"!==q.timezone};n.rezoneDate=function(a){return n.moment(a.toArray())};
    n.getNow=function(){var a=q.now;"function"===typeof a&&(a=a());return n.moment(a)};n.calculateWeekNumber=function(a){var b=q.weekNumberCalculation;if("function"===typeof b)return b(a);if("local"===b)return a.week();if("ISO"===b.toUpperCase())return a.isoWeek()};n.getEventEnd=function(a){return a.end?a.end.clone():n.getDefaultEventEnd(a.allDay,a.start)};n.getDefaultEventEnd=function(a,b){var c=b.clone();a?c.stripTime().add(n.defaultAllDayEventDuration):c.add(n.defaultTimedEventDuration);n.getIsAmbigTimezone()&&
    c.stripZone();return c};n.formatRange=function(a,b,c){"function"===typeof c&&(c=c.call(n,q,z));return xa(a,b,c,null,q.isRTL)};n.formatDate=function(a,b){"function"===typeof b&&(b=b.call(n,q,z));return da(a,ea(b))};$a.call(n,q);var L=n.isFetchNeeded,w=n.fetchEvents,ua=a[0],u,S,C,t,W,T,F=0,D,x=[];D=null!=q.defaultDate?n.moment(q.defaultDate):n.getNow();n.getSuggestedViewHeight=function(){void 0===W&&c()&&h();return W};n.isHeightAuto=function(){return"auto"===q.contentHeight||"auto"===q.height}}function Za(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 b){function c(c){var d=g('<div class="fc-'+c+'"/>');(c=b.header[c])&&g.each(c.split(" "),function(c){var h=g(),l=!0;g.each(this.split(","),function(c,d){var k,m,r,w,v,u;"title"==d?(h=h.add(g("<h2>&nbsp;</h2>")),l=!1):(a[d]?k=function(){a[d]()}:M[d]&&(k=function(){a.changeView(d)},e.push(d)),k&&(m=X(b.themeButtonIcons,d),r=X(b.buttonIcons,d),w=X(b.defaultButtonText,d),m=(v=X(b.buttonText,d))?x(v):m&&b.theme?"<span class='ui-icon ui-icon-"+m+"'></span>":r&&!b.theme?"<span class='fc-icon fc-icon-"+r+
"'></span>":x(w||d),r=["fc-"+d+"-button",f+"-button",f+"-state-default"],u=g('<button type="button" class="'+r.join(" ")+'">'+m+"</button>").click(function(){u.hasClass(f+"-state-disabled")||(k(),(u.hasClass(f+"-state-active")||u.hasClass(f+"-state-disabled"))&&u.removeClass(f+"-state-hover"))}).mousedown(function(){u.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){u.removeClass(f+"-state-down")}).hover(function(){u.not("."+f+"-state-active").not("."+
f+"-state-disabled").addClass(f+"-state-hover")},function(){u.removeClass(f+"-state-hover").removeClass(f+"-state-down")}),h=h.add(u)))});l&&h.first().addClass(f+"-corner-left").end().last().addClass(f+"-corner-right").end();1<h.length?(c=g("<div/>"),l&&c.addClass("fc-button-group"),c.append(h),d.append(c)):d.append(h)});return d}this.render=function(){var a=b.header;f=b.theme?"ui":"fc";if(a)return d=g("<div class='fc-toolbar'/>").append(c("left")).append(c("right")).append(c("center")).append('<div class="fc-clear"/>')};
    this.destroy=function(){d.remove()};this.updateTitle=function(a){d.find("h2").text(a)};this.activateButton=function(a){d.find(".fc-"+a+"-button").addClass(f+"-state-active")};this.deactivateButton=function(a){d.find(".fc-"+a+"-button").removeClass(f+"-state-active")};this.disableButton=function(a){d.find(".fc-"+a+"-button").attr("disabled","disabled").addClass(f+"-state-disabled")};this.enableButton=function(a){d.find(".fc-"+a+"-button").removeAttr("disabled").removeClass(f+"-state-disabled")};this.getViewsWithButtons=
        function(){return e};var d=g(),e=[],f}function $a(a){function b(a,b){c(a,function(c){var d=g.isArray(a.events),e,f;if(b==B){if(c)for(e=0;e<c.length;e++)f=c[e],(f=d?f:p(f,a))&&E.push.apply(E,n(f));A--;A||t(E)}})}function c(b,d){var e,f=v.sourceFetchers,h;for(e=0;e<f.length;e++){h=f[e].call(u,b,D.clone(),y.clone(),a.timezone,d);if(!0===h)return;if("object"==typeof h){c(h,d);return}}if(e=b.events)g.isFunction(e)?(k(),e.call(u,D.clone(),y.clone(),a.timezone,function(a){d(a);m()})):g.isArray(e)?d(e):d();
else if(b.url){var n=b.success,l=b.error,t=b.complete;e=g.isFunction(b.data)?b.data():b.data;e=g.extend({},e||{});f=K(b.startParam,a.startParam);h=K(b.endParam,a.endParam);var C=K(b.timezoneParam,a.timezoneParam);f&&(e[f]=D.format());h&&(e[h]=y.format());a.timezone&&"local"!=a.timezone&&(e[C]=a.timezone);k();g.ajax(g.extend({},ab,b,{data:e,success:function(a){a=a||[];var b=aa(n,this,arguments);g.isArray(b)&&(a=b);d(a)},error:function(){aa(l,this,arguments);d()},complete:function(){aa(t,this,arguments);
    m()}}))}else d()}function d(a){var b=v.sourceNormalizers,c;g.isFunction(a)||g.isArray(a)?c={events:a}:"string"===typeof a?c={url:a}:"object"===typeof a&&(c=g.extend({},a));if(c){c.className?"string"===typeof c.className&&(c.className=c.className.split(/\s+/)):c.className=[];g.isArray(c.events)&&(c.origArray=c.events,c.events=g.map(c.events,function(a){return p(a,c)}));for(a=0;a<b.length;a++)b[a].call(u,c);return c}}function e(a,b){return a&&b&&f(a)==f(b)}function f(a){return("object"===typeof a?a.origArray||
    a.url||a.events:null)||a}function h(a){return g.isFunction(a)?g.grep(E,a):null!=a?(a+="",g.grep(E,function(b){return b._id==a})):E}function k(){H++||S("loading",null,!0,C())}function m(){--H||S("loading",null,!1,C())}function p(b,c){var d={},e,f,h;a.eventDataTransform&&(b=a.eventDataTransform(b));c&&c.eventDataTransform&&(b=c.eventDataTransform(b));g.extend(d,b);c&&(d.source=c);d._id=b._id||(void 0===b.id?"_fc"+bb++:b.id+"");d.className=b.className?"string"==typeof b.className?b.className.split(/\s+/):
    b.className:[];e=b.start||b.date;f=b.end;ya(e)&&(e=r.duration(e));ya(f)&&(f=r.duration(f));if(b.dow||r.isDuration(e)||r.isDuration(f))d.start=e?r.duration(e):null,d.end=f?r.duration(f):null,d._recurring=!0;else{if(e&&(e=u.moment(e),!e.isValid())||f&&(f=u.moment(f),!f.isValid()))return!1;h=b.allDay;void 0===h&&(h=K(c?c.allDayDefault:void 0,a.allDayDefault),h=void 0!==h?h:!e.hasTime()&&(!f||!f.hasTime()));l(e,f,h,d)}return d}function l(b,c,d,e){d?(b.hasTime()&&b.stripTime(),c&&c.hasTime()&&c.stripTime()):
    (b.hasTime()||(b=u.rezoneDate(b)),c&&!c.hasTime()&&(c=u.rezoneDate(c)));e.allDay=d;e.start=b;e.end=c||null;a.forceEventDuration&&!e.end&&(e.end=W(e));fa(e)}function n(a){var b=[],c,d=D;c=y;var e,f,h,k,n,t;d&&c||(c=u.getView(),d=c.start,c=c.end);if(a)if(a._recurring){if(f=a.dow)for(e={},h=0;h<f.length;h++)e[f[h]]=!0;for(d=d.clone().stripTime();d.isBefore(c);){if(!e||e[d.day()])f=a.start,h=a.end,k=d.clone(),n=null,f&&(k=k.time(f)),h&&(n=d.clone().time(h)),t=g.extend({},a),l(k,n,!f&&!h,t),b.push(t);
    d.add(1,"days")}}else b.push(a);return b}function q(a,b,c){var d=a._allDay,e=a._start,f=a._end,k=!1,g,n,l;b||c||(b=a.start,c=a.end);if(g=a.allDay!=d?a.allDay:!(b||c).hasTime())b&&(b=b.clone().stripTime()),c&&(c=c.clone().stripTime());b&&(n=g?Y(b,e.clone().stripTime()):Y(b,e));g!=d?k=!0:c&&(l=Y(c||u.getDefaultEventEnd(g,b||e),b||e).subtract(Y(f||u.getDefaultEventEnd(d,e),e)));a=G(h(a._id),k,g,n,l);return{dateDelta:n,durationDelta:l,undo:a}}function G(b,c,d,e,f){var h=u.getIsAmbigTimezone(),k=[];g.each(b,
    function(b,g){var n=g._allDay,l=g._start,t=g._end,C=null!=d?d:n,p=l.clone(),m=!c&&t?t.clone():null;C?(p.stripTime(),m&&m.stripTime()):(p.hasTime()||(p=u.rezoneDate(p)),m&&!m.hasTime()&&(m=u.rezoneDate(m)));m||!a.forceEventDuration&&!+f||(m=u.getDefaultEventEnd(C,p));p.add(e);m&&m.add(e).add(f);h&&(+e||+f)&&(p.stripZone(),m&&m.stripZone());g.allDay=C;g.start=p;g.end=m;fa(g);k.push(function(){g.allDay=n;g.start=l;g.end=t;fa(g)})});return function(){for(var a=0;a<k.length;a++)k[a]()}}function z(){var b=
    a.businessHours,c={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},d;b&&(d="object"===typeof b?g.extend({},c,b):c);return d?n(p(d)):[]}function L(b,c,d){var e=b.source||{},f=K(b.constraint,e.constraint,a.eventConstraint),e=K(b.overlap,e.overlap,a.eventOverlap);return x(c,d,f,e,b)}function w(b,c){return x(b,c,a.selectConstraint,a.selectOverlap)}function x(a,b,c,d,e){var f,g;a=a.clone().stripZone();b=b.clone().stripZone();if(null!=c){f="businessHours"===
c?z():"object"===typeof c?n(p(c)):h(c);g=!1;for(c=0;c<f.length;c++){var k=f[c],l=a,t=b,m=k.start.clone().stripZone(),k=u.getEventEnd(k).stripZone();if(l>=m&&t<=k){g=!0;break}}if(!g)return!1}for(c=0;c<E.length;c++)if(f=E[c],!e||e._id!==f._id)if(m=f,g=a,l=b,t=m.start.clone().stripZone(),m=u.getEventEnd(m).stripZone(),g<m&&l>t&&(!1===d||"function"===typeof d&&!d(f,e)||e&&(g=K(f.overlap,(f.source||{}).overlap),!1===g||"function"===typeof g&&!g(e,f))))return!1;return!0}var u=this;u.isFetchNeeded=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         b){return!D||a.clone().stripZone()<D.clone().stripZone()||b.clone().stripZone()>y.clone().stripZone()};u.fetchEvents=function(a,c){D=a;y=c;E=[];var d=++B,e=F.length;A=e;for(var f=0;f<e;f++)b(F[f],d)};u.addEventSource=function(a){if(a=d(a))F.push(a),A++,b(a,B)};u.removeEventSource=function(a){F=g.grep(F,function(b){return!e(b,a)});E=g.grep(E,function(b){return!e(b.source,a)});t(E)};u.updateEvent=function(a){a.start=u.moment(a.start);a.end&&(a.end=u.moment(a.end));q(a);var b,c,d,e;for(b=0;b<E.length;b++)if(c=
        E[b],c._id==a._id&&c!==a)for(d=0;d<I.length;d++)e=I[d],void 0!==a[e]&&(c[e]=a[e]);t(E)};u.renderEvent=function(a,b){var c=p(a),d,e;if(c){c=n(c);for(d=0;d<c.length;d++)e=c[d],e.source||(b&&(T.events.push(e),e.source=T),E.push(e));t(E);return c}return[]};u.removeEvents=function(a){var b,c;null==a?a=function(){return!0}:g.isFunction(a)||(b=a+"",a=function(a){return a._id==b});E=g.grep(E,a,!0);for(c=0;c<F.length;c++)g.isArray(F[c].events)&&(F[c].events=g.grep(F[c].events,a,!0));t(E)};u.clientEvents=h;
    u.mutateEvent=q;var S=u.trigger,C=u.getView,t=u.reportEvents,W=u.getEventEnd,T={events:[]},F=[T],D,y,B=0,A=0,H=0,E=[];g.each((a.events?[a.events]:[]).concat(a.eventSources||[]),function(a,b){var c=d(b);c&&F.push(c)});var I="title url allDay className editable color backgroundColor borderColor textColor".split(" ");u.getBusinessHoursEvents=z;u.isEventAllowedInRange=L;u.isSelectionAllowedInRange=w;u.isExternalDragAllowedInRange=function(a,b,c){return c&&(c=n(p(c))[0])?L(c,a,b):w(a,b)}}function fa(a){a._allDay=
    a.allDay;a._start=a.start.clone();a._end=a.end?a.end.clone():null}function za(a,b){b.left&&a.css({"border-left-width":1,"margin-left":b.left-1});b.right&&a.css({"border-right-width":1,"margin-right":b.right-1})}function Aa(a){a.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function ba(){g("body").addClass("fc-not-allowed")}function O(){g("body").removeClass("fc-not-allowed")}function Ba(a,b,c){var d=Math.floor(b/a.length),e=Math.floor(b-d*(a.length-1)),f=
    [],h=[],k=[],m=0;a.height("");a.each(function(b,c){var n=b===a.length-1?e:d,q=g(c).outerHeight(!0);q<n?(f.push(c),h.push(q),k.push(g(c).height())):m+=q});c&&(b-=m,d=Math.floor(b/f.length),e=Math.floor(b-d*(f.length-1)));g(f).each(function(a,b){var c=a===f.length-1?e:d,m=h[a],r=c-(m-k[a]);m<c&&g(b).height(r)})}function Ca(a){var b=0;a.find("> *").each(function(a,d){var e=g(d).outerWidth();e>b&&(b=e)});b++;a.width(b);return b}function Da(a,b){a.height(b).addClass("fc-scroller");if(a[0].scrollHeight-
    1>a[0].clientHeight)return!0;ga(a);return!1}function ga(a){a.height("").removeClass("fc-scroller")}function Ea(a){var b=a.css("position"),c=a.parents().filter(function(){var a=g(this);return/(auto|scroll)/.test(a.css("overflow")+a.css("overflow-y")+a.css("overflow-x"))}).eq(0);return"fixed"!==b&&c.length?c:g(a[0].ownerDocument||document)}function Fa(a){var b=a.offset().left,c=b+a.width(),d=a.children();a=d.offset().left;d=a+d.outerWidth();return{left:a-b,right:c-d}}function Ga(a,b,c,d){if(b>c&&a<
    d)return a>=c?(a=a.clone(),c=!0):(a=c.clone(),c=!1),b<=d?(b=b.clone(),d=!0):(b=d.clone(),d=!1),{start:a,end:b,isStart:c,isEnd:d}}function X(a,b){a=a||{};if(void 0!==a[b])return a[b];for(var c=b.split(/(?=[A-Z])/),d=c.length-1,e;0<=d;d--)if(e=a[c[d].toLowerCase()],void 0!==e)return e;return a["default"]}function Y(a,b){return r.duration({days:a.clone().stripTime().diff(b.clone().stripTime(),"days"),ms:a.time()-b.time()})}function cb(a,b){return a-b}function ya(a){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(a)}
    function A(a){var b=function(){};b.prototype=a;return new b}function aa(a,b,c){g.isFunction(a)&&(a=[a]);if(a){var d,e;for(d=0;d<a.length;d++)e=a[d].apply(b,c)||e;return e}}function K(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]}function x(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function wa(a){return a.charAt(0).toUpperCase()+a.slice(1)}function va(a,b){var c,
        d,e,f,h=function(){var g=+new Date-f;g<b&&0<g?c=setTimeout(h,b-g):(c=null,a.apply(e,d),c||(e=d=null))};return function(){e=this;d=arguments;f=+new Date;c||(c=setTimeout(h,b))}}function ha(a,b,c){var d=a[0],e=1==a.length&&"string"===typeof d,f,h,k;if(r.isMoment(d))a=r.apply(null,a),Ha(d,a);else if(f=d,"[object Date]"===Object.prototype.toString.call(f)||f instanceof Date||void 0===d)a=r.apply(null,a);else{h=f=!1;if(e)if(db.test(d))d+="-01",a=[d],h=f=!0;else{if(k=eb.exec(d))f=!k[5],h=!0}else g.isArray(d)&&
    (h=!0);a=b?r.utc.apply(r,a):r.apply(null,a);f?(a._ambigTime=!0,a._ambigZone=!0):c&&(h?a._ambigZone=!0:e&&a.zone(d))}a._fullCalendar=!0;return a}function ia(a,b){var c=[],d=!1,e=!1,f;for(f=0;f<a.length;f++)c.push(v.moment.parseZone(a[f])),d=d||c[f]._ambigTime,e=e||c[f]._ambigZone;for(f=0;f<c.length;f++)d&&!b?c[f].stripTime():e&&c[f].stripZone();return c}function Ha(a,b){a._ambigTime?b._ambigTime=!0:b._ambigTime&&(b._ambigTime=!1);a._ambigZone?b._ambigZone=!0:b._ambigZone&&(b._ambigZone=!1)}function Ia(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              b){a.year(b[0]||0).month(b[1]||0).date(b[2]||0).hours(b[3]||0).minutes(b[4]||0).seconds(b[5]||0).milliseconds(b[6]||0)}function P(a,b){return H.format.call(a,b)}function da(a,b){var c="",d;for(d=0;d<b.length;d++)c+=ja(a,b[d]);return c}function ja(a,b){var c;return"string"===typeof b?b:(c=b.token)?Ja[c]?Ja[c](a):P(a,c):b.maybe&&(c=da(a,b.maybe),c.match(/[1-9]/))?c:""}function xa(a,b,c,d,e){a=v.moment.parseZone(a);b=v.moment.parseZone(b);c=(a.localeData||a.lang).call(a).longDateFormat(c)||c;d=d||" - ";
        c=ea(c);var f,h,g="",m,p="",l="",n="",q="";for(h=0;h<c.length;h++){f=Ka(a,b,c[h]);if(!1===f)break;g+=f}for(m=c.length-1;m>h;m--){f=Ka(a,b,c[m]);if(!1===f)break;p=f+p}for(f=h;f<=m;f++)l+=ja(a,c[f]),n+=ja(b,c[f]);if(l||n)q=e?n+d+l:l+d+n;return g+q+p}function Ka(a,b,c){var d;return"string"===typeof c?c:(c=c.token)&&(d=fb[c.charAt(0)])&&a.isSame(b,d)?P(a,c):!1}function ea(a){return a in ka?ka[a]:ka[a]=La(a)}function La(a){for(var b=[],c=/\[([^\]]*)\]|\(([^\)]*)\)|(LT|(\w)\4*o?)|([^\w\[\(]+)/g,d;d=c.exec(a);)d[1]?
        b.push(d[1]):d[2]?b.push({maybe:La(d[2])}):d[3]?b.push({token:d[3]}):d[5]&&b.push(d[5]);return b}function Ma(a){this.options=a||{}}function Na(a){this.grid=a}function Oa(a){this.coordMaps=a}function Z(a,b){this.coordMap=a;this.options=b||{}}function Pa(a,b){this.options=b=b||{};this.sourceEl=a;this.parentEl=b.parentEl?g(b.parentEl):a.parent()}function Qa(a){this.view=a}function I(a){this.view=a;this.coordMap=new Na(this);this.elsByFill={}}function Ra(a){return K((a.source||{}).rendering,a.rendering)}
    function gb(a){var b={},c,d;for(c=0;c<a.length;c++)d=a[c],(b[d._id]||(b[d._id]=[])).push(d);return b}function hb(a,b){return a.eventStartMS-b.eventStartMS}function la(a,b){return a.eventStartMS-b.eventStartMS||b.eventDurationMS-a.eventDurationMS||b.event.allDay-a.event.allDay||(a.event.title||"").localeCompare(b.event.title)}function V(a){I.call(this,a)}function ib(a,b){return a.leftCol-b.leftCol}function ca(a){I.call(this,a)}function Sa(a){var b=a.forwardSegs,c=0,d,e;if(void 0===a.forwardPressure){for(d=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    0;d<b.length;d++)e=b[d],Sa(e),c=Math.max(c,1+e.forwardPressure);a.forwardPressure=c}}function ma(a,b,c){var d=a.forwardSegs;if(void 0===a.forwardCoord)for(d.length?(d.sort(jb),ma(d[0],b+1,c),a.forwardCoord=d[0].backwardCoord):a.forwardCoord=1,a.backwardCoord=a.forwardCoord-(a.forwardCoord-c)/(b+1),b=0;b<d.length;b++)ma(d[b],0,a.forwardCoord)}function Ta(a,b,c){c=c||[];for(var d=0;d<b.length;d++){var e=b[d];a.bottom>e.top&&a.top<e.bottom&&c.push(b[d])}return c}function jb(a,b){return b.forwardPressure-
        a.forwardPressure||(a.backwardCoord||0)-(b.backwardCoord||0)||la(a,b)}function y(a){function b(a){var b=q[a];return g.isPlainObject(b)&&!/(Time|Duration)$/.test(a)?X(b,l.name):b}function c(b,c){return a.trigger.apply(a,[b,c||l].concat(Array.prototype.slice.call(arguments,2),[l]))}function d(a,b){var c=l.colCnt,d=x?-1:1,e=x?c-1:0;"object"==typeof a&&(b=a.col,a=a.row);return a*c+(b*d+e)}function e(a){var b=l.start.day();a+=v[b];return 7*Math.floor(a/w)+u[(a%w+w)%w]-b}function f(a){return l.start.clone().add(a,
        "days")}function h(a){return a.clone().stripTime().diff(l.start,"days")}function k(a){var b=l.start.day();a+=b;return Math.floor(a/7)*w+v[(a%7+7)%7]-v[b]}function m(a){var b=l.colCnt;return{row:Math.floor(a/b),col:(a%b+b)%b*(x?-1:1)+(x?b-1:0)}}function p(a,b){var c=a.clone().stripTime(),d,e;b&&(d=b.clone().stripTime(),(e=+b.time())&&e>=G&&d.add(1,"days"));if(!b||d<=c)d=c.clone().add(1,"days");return{start:c,end:d}}var l=this;l.calendar=a;l.opt=b;l.trigger=c;l.isEventDraggable=function(a){var c=a.source||
        {};return K(a.startEditable,c.startEditable,b("eventStartEditable"),a.editable,c.editable,b("editable"))};l.isEventResizable=function(a){var c=a.source||{};return K(a.durationEditable,c.durationEditable,b("eventDurationEditable"),a.editable,c.editable,b("editable"))};l.eventDrop=function(b,d,e,f){var h=a.mutateEvent(d,e,null);c("eventDrop",b,d,h.dateDelta,function(){h.undo();n()},f,{});n()};l.eventResize=function(b,d,e,f){var h=a.mutateEvent(d,null,e);c("eventResize",b,d,h.durationDelta,function(){h.undo();
        n()},f,{});n()};var n=a.reportEventChange,q=a.options,G=r.duration(q.nextDayThreshold);l.init();l.getEventTimeText=function(c,d,e){var f;"object"===typeof c&&"object"===typeof d?(f=c,c=d,d=e):(f=c.start,c=c.end);d=d||b("timeFormat");return c&&b("displayEventEnd")?a.formatRange(f,c,d):a.formatDate(f,d)};l.isHiddenDay=function(a){r.isMoment(a)&&(a=a.day());return L[a]};l.skipHiddenDays=function(a,b,c){a=a.clone();for(b=b||1;L[(a.day()+(c?b:0)+7)%7];)a.add(b,"days");return a};l.getCellsPerWeek=function(){return w};
        l.dateToCell=function(a){a=h(a);a=k(a);return m(a)};l.dateToDayOffset=h;l.dayOffsetToCellOffset=k;l.cellOffsetToCell=m;l.cellToDate=function(){var a=d.apply(null,arguments),a=e(a);return f(a)};l.cellToCellOffset=d;l.cellOffsetToDayOffset=e;l.dayOffsetToDate=f;l.rangeToSegments=function(a,b){for(var c=l.rowCnt,d=l.colCnt,f=[],g=p(a,b),n=h(g.start),g=h(g.end),q=k(n),u=k(g)-1,r=0;r<c;r++){var w=r*d,G=Math.max(q,w),w=Math.min(u,w+d-1);if(G<=w){var z=m(G),v=m(w),z=[z.col,v.col].sort(),G=e(G)==n,w=e(w)+
            1==g;f.push({row:r,leftCol:z[0],rightCol:z[1],isStart:G,isEnd:w})}}return f};l.isMultiDayEvent=function(a){a=p(a.start,a.end);return 1<a.end.diff(a.start,"days")};var z=b("hiddenDays")||[],L=[],w,v=[],u=[],x=b("isRTL");(function(){!1===b("weekends")&&z.push(0,6);for(var a=0,c=0;7>a;a++)v[a]=c,L[a]=-1!=g.inArray(a,z),L[a]||(u[c]=a,c++);w=c;if(!w)throw"invalid hiddenDays";})()}function kb(a){var b=v.dataAttrPrefix,c,d,e,f;b&&(b+="-");if(c=a.data(b+"event")||null)c="object"===typeof c?g.extend({},c):
    {},d=c.start,null==d&&(d=c.time),e=c.duration,f=c.stick,delete c.start,delete c.time,delete c.duration,delete c.stick;null==d&&(d=a.data(b+"start"));null==d&&(d=a.data(b+"time"));null==e&&(e=a.data(b+"duration"));null==f&&(f=a.data(b+"stick"));d=null!=d?r.duration(d):null;e=null!=e?r.duration(e):null;f=Boolean(f);return{eventProps:c,startTime:d,duration:e,stick:f}}function J(a){y.call(this,a);this.dayGrid=new V(this);this.coordMap=this.dayGrid.coordMap}function na(a){J.call(this,a)}function oa(a){J.call(this,
        a)}function pa(a){J.call(this,a)}function Q(a){y.call(this,a);this.timeGrid=new ca(this);this.opt("allDaySlot")?(this.dayGrid=new V(this),this.coordMap=new Oa([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap}function qa(a){Q.call(this,a)}function ra(a){Q.call(this,a)}var U={lang:"en",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",
        center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,titleFormat:{month:"MMMM YYYY",week:"ll",day:"LL"},columnFormat:{month:"ddd",week:function(a,b){var c=b.longDateFormat("L"),c=c.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,"");return c=a.isRTL?c+" ddd":"ddd "+c},day:"dddd"},timeFormat:{"default":function(a,b){return b.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,
        "($1)").replace(/\s*a$/i,"t")}},displayEventEnd:{month:!1,basicWeek:!1,"default":!0},isRTL:!1,defaultButtonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,
        dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},N={en:{columnFormat:{week:"ddd M/D"},dayPopoverFormat:"dddd, MMMM D"}},Ya={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",
        prevYear:"seek-next"}},v=g.fullCalendar={version:"2.2.0"},M=v.views={};g.fn.fullCalendar=function(a){var b=Array.prototype.slice.call(arguments,1),c=this;this.each(function(d,e){var f=g(e),h=f.data("fullCalendar");"string"===typeof a?h&&g.isFunction(h[a])&&(h=h[a].apply(h,b),d||(c=h),"destroy"===a&&f.removeData("fullCalendar")):h||(h=new Xa(f,a),f.data("fullCalendar",h),h.render())});return c};v.langs=N;v.datepickerLang=function(a,b,c){var d=N[a];d||(d=N[a]={});R(d,{isRTL:c.isRTL,weekNumberTitle:c.weekHeader,
        titleFormat:{month:c.showMonthAfterYear?"YYYY["+c.yearSuffix+"] MMMM":"MMMM YYYY["+c.yearSuffix+"]"},defaultButtonText:{prev:c.prevText.replace(/&.*?;/g,""),next:c.nextText.replace(/&.*?;/g,""),today:c.currentText.replace(/&.*?;/g,"")}});g.datepicker&&(g.datepicker.regional[b]=g.datepicker.regional[a]=c,g.datepicker.regional.en=g.datepicker.regional[""],g.datepicker.setDefaults(c))};v.lang=function(a,b){var c;b&&((c=N[a])||(c=N[a]={}),R(c,b||{}));U.lang=a};v.sourceNormalizers=[];v.sourceFetchers=
        [];var ab={dataType:"json",cache:!1},bb=1,Ua="sun mon tue wed thu fri sat".split(" ");v.applyAll=aa;var db=/^\s*\d{4}-\d\d$/,eb=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,B=r.fn,H=g.extend({},B),Va,sa,Wa;v.moment=function(){return ha(arguments)};v.moment.utc=function(){var a=ha(arguments,!0);a.hasTime()&&a.utc();return a};v.moment.parseZone=function(){return ha(arguments,!0,!0)};B.clone=function(){var a=H.clone.apply(this,arguments);Ha(this,a);
        this._fullCalendar&&(a._fullCalendar=!0);return a};B.time=function(a){if(!this._fullCalendar)return H.time.apply(this,arguments);if(null==a)return r.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1;r.isDuration(a)||r.isMoment(a)||(a=r.duration(a));var b=0;r.isDuration(a)&&(b=24*Math.floor(a.asDays()));return this.hours(b+a.hours()).minutes(a.minutes()).seconds(a.seconds()).milliseconds(a.milliseconds())};B.stripTime=function(){var a=
        this.toArray();this.utc();sa(this,a.slice(0,3));this._ambigZone=this._ambigTime=!0;return this};B.hasTime=function(){return!this._ambigTime};B.stripZone=function(){var a=this.toArray(),b=this._ambigTime;this.utc();sa(this,a);b&&(this._ambigTime=!0);this._ambigZone=!0;return this};B.hasZone=function(){return!this._ambigZone};B.zone=function(a){null!=a&&(this._ambigZone=this._ambigTime=!1);return H.zone.apply(this,arguments)};B.local=function(){var a=this.toArray(),b=this._ambigZone;H.local.apply(this,
        arguments);b&&Wa(this,a);return this};B.format=function(){return this._fullCalendar&&arguments[0]?da(this,ea(arguments[0])):this._ambigTime?P(this,"YYYY-MM-DD"):this._ambigZone?P(this,"YYYY-MM-DD[T]HH:mm:ss"):H.format.apply(this,arguments)};B.toISOString=function(){return this._ambigTime?P(this,"YYYY-MM-DD"):this._ambigZone?P(this,"YYYY-MM-DD[T]HH:mm:ss"):H.toISOString.apply(this,arguments)};B.isWithin=function(a,b){var c=ia([this,a,b]);return c[0]>=c[1]&&c[0]<c[2]};B.isSame=function(a,b){var c;if(!this._fullCalendar)return H.isSame.apply(this,
        arguments);if(b)return c=ia([this,a],!0),H.isSame.call(c[0],c[1],b);a=v.moment.parseZone(a);return H.isSame.call(this,a)&&Boolean(this._ambigTime)===Boolean(a._ambigTime)&&Boolean(this._ambigZone)===Boolean(a._ambigZone)};g.each(["isBefore","isAfter"],function(a,b){B[b]=function(a,d){var e;if(!this._fullCalendar)return H[b].apply(this,arguments);e=ia([this,a]);return H[b].call(e[0],e[1],d)}});sa=(Va="_d"in r()&&"updateOffset"in r)?function(a,b){a._d.setTime(Date.UTC.apply(Date,b));r.updateOffset(a,
        !1)}:Ia;Wa=Va?function(a,b){a._d.setTime(+new Date(b[0]||0,b[1]||0,b[2]||0,b[3]||0,b[4]||0,b[5]||0,b[6]||0));r.updateOffset(a,!1)}:Ia;var Ja={t:function(a){return P(a,"a").charAt(0)},T:function(a){return P(a,"A").charAt(0)}};v.formatRange=xa;var fb={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},ka={};Ma.prototype={isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,show:function(){this.isHidden&&(this.el||
    this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var a=this,b=this.options;this.el=g('<div class="fc-popover"/>').addClass(b.className||"").css({top:0,left:0}).append(b.content).appendTo(b.parentEl);this.el.on("click",".fc-close",function(){a.hide()});if(b.autoHide)g(document).on("mousedown",this.documentMousedownProxy=g.proxy(this,"documentMousedown"))},documentMousedown:function(a){this.el&&
    !g(a.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide();this.el&&(this.el.remove(),this.el=null);g(document).off("mousedown",this.documentMousedownProxy)},position:function(){var a=this.options,b=this.el.offsetParent().offset(),c=this.el.outerWidth(),d=this.el.outerHeight(),e=g(window),f=Ea(this.el),h,k,m,p;m=a.top||0;p=void 0!==a.left?a.left:void 0!==a.right?a.right-c:0;f.is(window)||f.is(document)?(f=e,k=h=0):(k=f.offset(),h=k.top,k=k.left);h+=e.scrollTop();k+=e.scrollLeft();
        !1!==a.viewportConstrain&&(m=Math.min(m,h+f.outerHeight()-d-this.margin),m=Math.max(m,h+this.margin),p=Math.min(p,k+f.outerWidth()-c-this.margin),p=Math.max(p,k+this.margin));this.el.css({top:m-b.top,left:p-b.left})},trigger:function(a){this.options[a]&&this.options[a].apply(this,Array.prototype.slice.call(arguments,1))}};Na.prototype={grid:null,rows:null,cols:null,containerEl:null,minX:null,maxX:null,minY:null,maxY:null,build:function(){this.grid.buildCoords(this.rows=[],this.cols=[]);this.computeBounds()},
        getCell:function(a,b){var c=null,d=this.rows,e=this.cols,f=-1,h=-1,g;if(this.inBounds(a,b)){for(g=0;g<d.length;g++)if(b>=d[g][0]&&b<d[g][1]){f=g;break}for(g=0;g<e.length;g++)if(a>=e[g][0]&&a<e[g][1]){h=g;break}0<=f&&0<=h&&(c={row:f,col:h},c.grid=this.grid,c.date=this.grid.getCellDate(c))}return c},computeBounds:function(){var a;this.containerEl&&(a=this.containerEl.offset(),this.minX=a.left,this.maxX=a.left+this.containerEl.outerWidth(),this.minY=a.top,this.maxY=a.top+this.containerEl.outerHeight())},
        inBounds:function(a,b){return this.containerEl?a>=this.minX&&a<this.maxX&&b>=this.minY&&b<this.maxY:!0}};Oa.prototype={coordMaps:null,build:function(){var a=this.coordMaps,b;for(b=0;b<a.length;b++)a[b].build()},getCell:function(a,b){var c=this.coordMaps,d=null,e;for(e=0;e<c.length&&!d;e++)d=c[e].getCell(a,b);return d}};Z.prototype={coordMap:null,options:null,isListening:!1,isDragging:!1,origCell:null,origDate:null,cell:null,date:null,mouseX0:null,mouseY0:null,mousemoveProxy:null,mouseupProxy:null,
        scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,mousedown:function(a){1!=a.which||a.ctrlKey||(a.preventDefault(),this.startListening(a),this.options.distance||this.startDrag(a))},startListening:function(a){var b;this.isListening||(a&&this.options.scroll&&(b=Ea(g(a.target)),b.is(window)||b.is(document)||(this.scrollEl=b,this.scrollHandlerProxy=va(g.proxy(this,"scrollHandler"),
            100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),this.computeCoords(),a&&(this.origDate=(this.origCell=b=this.getCell(a))?b.date:null,this.mouseX0=a.pageX,this.mouseY0=a.pageY),g(document).on("mousemove",this.mousemoveProxy=g.proxy(this,"mousemove")).on("mouseup",this.mouseupProxy=g.proxy(this,"mouseup")).on("selectstart",this.preventDefault),this.isListening=!0,this.trigger("listenStart",a))},computeCoords:function(){this.coordMap.build();this.computeScrollBounds()},mousemove:function(a){var b,
            c;this.isDragging||(b=this.options.distance||1,c=Math.pow(a.pageX-this.mouseX0,2)+Math.pow(a.pageY-this.mouseY0,2),c>=b*b&&this.startDrag(a));this.isDragging&&this.drag(a)},startDrag:function(a){this.isListening||this.startListening();this.isDragging||(this.isDragging=!0,this.trigger("dragStart",a),(a=this.getCell(a))&&this.cellOver(a,!0))},drag:function(a){var b;if(this.isDragging){b=this.getCell(a);var c;c=this.cell;c=b||c?b&&c?b.grid===c.grid&&b.row===c.row&&b.col===c.col:!1:!0;c||(this.cell&&
        this.cellOut(),b&&this.cellOver(b));this.dragScroll(a)}},cellOver:function(a){this.cell=a;this.date=a.date;this.trigger("cellOver",a,a.date)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.date=this.cell=null)},mouseup:function(a){this.stopDrag(a);this.stopListening(a)},stopDrag:function(a){this.isDragging&&(this.stopScrolling(),this.trigger("dragStop",a),this.isDragging=!1)},stopListening:function(a){this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),
            this.scrollHandlerProxy=null),g(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mouseupProxy=this.mousemoveProxy=null,this.isListening=!1,this.trigger("listenStop",a),this.origDate=this.date=this.origCell=this.cell=null)},getCell:function(a){return this.coordMap.getCell(a.pageX,a.pageY)},trigger:function(a){this.options[a]&&this.options[a].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(a){a.preventDefault()},
        computeScrollBounds:function(){var a=this.scrollEl,b;a&&(b=a.offset(),this.scrollBounds={top:b.top,left:b.left,bottom:b.top+a.outerHeight(),right:b.left+a.outerWidth()})},dragScroll:function(a){var b=this.scrollSensitivity,c=this.scrollBounds,d,e,f,h=0,g=0;c&&(d=(b-(a.pageY-c.top))/b,e=(b-(c.bottom-a.pageY))/b,f=(b-(a.pageX-c.left))/b,a=(b-(c.right-a.pageX))/b,0<=d&&1>=d?h=d*this.scrollSpeed*-1:0<=e&&1>=e&&(h=e*this.scrollSpeed),0<=f&&1>=f?g=f*this.scrollSpeed*-1:0<=a&&1>=a&&(g=a*this.scrollSpeed));
            this.setScrollVel(h,g)},setScrollVel:function(a,b){this.scrollTopVel=a;this.scrollLeftVel=b;this.constrainScrollVel();!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(g.proxy(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var a=this.scrollEl;0>this.scrollTopVel?0>=a.scrollTop()&&(this.scrollTopVel=0):0<this.scrollTopVel&&a.scrollTop()+a[0].clientHeight>=a[0].scrollHeight&&(this.scrollTopVel=0);0>this.scrollLeftVel?
        0>=a.scrollLeft()&&(this.scrollLeftVel=0):0<this.scrollLeftVel&&a.scrollLeft()+a[0].clientWidth>=a[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var a=this.scrollEl,b=this.scrollIntervalMs/1E3;this.scrollTopVel&&a.scrollTop(a.scrollTop()+this.scrollTopVel*b);this.scrollLeftVel&&a.scrollLeft(a.scrollLeft()+this.scrollLeftVel*b);this.constrainScrollVel();this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),
            this.scrollIntervalId=null,this.computeCoords())},scrollHandler:function(){this.scrollIntervalId||this.computeCoords()}};Pa.prototype={options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,start:function(a){this.isFollowing||(this.isFollowing=!0,this.mouseY0=a.pageY,this.mouseX0=a.pageX,this.leftDelta=this.topDelta=0,this.isHidden||this.updatePosition(),g(document).on("mousemove",
        this.mousemoveProxy=g.proxy(this,"mousemove")))},stop:function(a,b){function c(){this.isAnimating=!1;d.destroyEl();this.top0=this.left0=null;b&&b()}var d=this,e=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,g(document).off("mousemove",this.mousemoveProxy),a&&e&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:e,complete:c})):c())},getEl:function(){var a=this.el;a||(this.sourceEl.width(),a=this.el=this.sourceEl.clone().css({position:"absolute",
        visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl));return a},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var a,b;this.getEl();null===this.top0&&(this.sourceEl.width(),a=this.sourceEl.offset(),b=this.el.offsetParent().offset(),this.top0=a.top-b.top,this.left0=a.left-b.left);this.el.css({top:this.top0+
    this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(a){this.topDelta=a.pageY-this.mouseY0;this.leftDelta=a.pageX-this.mouseX0;this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}};Qa.prototype={view:null,cellHtml:"<td/>",rowHtml:function(a,b){var c=this.view,d=this.getHtmlRenderer("cell",a),e="",f,h;b=b||0;for(f=0;f<c.colCnt;f++)h=
        c.cellToDate(b,f),e+=d(b,f,h);e=this.bookendCells(e,a,b);return"<tr>"+e+"</tr>"},bookendCells:function(a,b,c){var d=this.view,e=this.getHtmlRenderer("intro",b)(c||0);b=this.getHtmlRenderer("outro",b)(c||0);d=(c=d.opt("isRTL"))?b:e;e=c?e:b;return"string"===typeof a?d+a+e:a.prepend(d).append(e)},getHtmlRenderer:function(a,b){var c=this.view,d,e,f,h;d=a+"Html";b&&(e=b+wa(a)+"Html");if(e&&(h=c[e]))f=c;else if(e&&(h=this[e]))f=this;else if(h=c[d])f=c;else if(h=this[d])f=this;return"function"===typeof h?
        function(){return h.apply(f,arguments)||""}:function(){return h||""}}};I.prototype=A(Qa.prototype);g.extend(I.prototype,{el:null,coordMap:null,cellDuration:null,elsByFill:null,render:function(){this.bindHandlers()},destroy:function(){},buildCoords:function(a,b){},getCellDate:function(a){},getCellDayEl:function(a){},rangeToSegs:function(a,b){},bindHandlers:function(){var a=this;this.el.on("mousedown",function(b){g(b.target).is(".fc-event-container *, .fc-more")||g(b.target).closest(".fc-popover").length||
    a.dayMousedown(b)});this.bindSegHandlers()},dayMousedown:function(a){var b=this,c=this.view,d=c.calendar,e=c.opt("selectable"),f=null,h,g,m,p=new Z(this.coordMap,{scroll:c.opt("dragScroll"),dragStart:function(){c.unselect()},cellOver:function(a,c){p.origDate&&(m=b.getCellDayEl(a),f=[c,p.origDate].sort(cb),h=f[0],g=f[1].clone().add(b.cellDuration),e&&(d.isSelectionAllowedInRange(h,g)?b.renderSelection(h,g):(f=null,ba())))},cellOut:function(a,c){f=null;b.destroySelection();O()},listenStop:function(a){f&&
    (f[0].isSame(f[1])&&c.trigger("dayClick",m[0],h,a),e&&c.reportSelection(h,g,a));O()}});p.mousedown(a)},renderDrag:function(a,b,c){},destroyDrag:function(){},renderResize:function(a,b,c){},destroyResize:function(){},renderRangeHelper:function(a,b,c){var d=this.view;!b&&d.opt("forceEventDuration")&&(b=d.calendar.getDefaultEventEnd(!a.hasTime(),a));d=c?A(c.event):{};d.start=a;d.end=b;d.allDay=!(a.hasTime()||b&&b.hasTime());d.className=(d.className||[]).concat("fc-helper");c||(d.editable=!1);this.renderHelper(d,
        c)},renderHelper:function(a,b){},destroyHelper:function(){},renderSelection:function(a,b){this.renderHighlight(a,b)},destroySelection:function(){this.destroyHighlight()},renderHighlight:function(a,b){this.renderFill("highlight",this.rangeToSegs(a,b))},destroyHighlight:function(){this.destroyFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(a,b){},destroyFill:function(a){var b=this.elsByFill[a];b&&(b.remove(),delete this.elsByFill[a])},renderFillSegEls:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     b){var c=this,d=this[a+"SegEl"],e="",f=[],h;if(b.length){for(h=0;h<b.length;h++)e+=this.fillSegHtml(a,b[h]);g(e).each(function(a,e){var h=b[a],l=g(e);d&&(l=d.call(c,h,l));l&&(l=g(l),l.is(c.fillSegTag)&&(h.el=l,f.push(h)))})}return f},fillSegTag:"div",fillSegHtml:function(a,b){var c=this[a+"SegClasses"],d=this[a+"SegStyles"],c=c?c.call(this,b):[],d=d?d.call(this,b):"";return"<"+this.fillSegTag+(c.length?' class="'+c.join(" ")+'"':"")+(d?' style="'+d+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+
        this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(a,b,c){a=this.view;b=a.calendar;var d=a.opt("columnFormat");return'<th class="fc-day-header '+a.widgetHeaderClass+" fc-"+Ua[c.day()]+'">'+x(b.formatDate(c,d))+"</th>"},bgCellHtml:function(a,b,c){a=this.view;b=this.getDayClasses(c);b.unshift("fc-day",a.widgetContentClass);return'<td class="'+b.join(" ")+'" data-date="'+c.format()+'"></td>'},getDayClasses:function(a){var b=this.view,c=
        b.calendar.getNow().stripTime(),d=["fc-"+Ua[a.day()]];"month"===b.name&&a.month()!=b.intervalStart.month()&&d.push("fc-other-month");a.isSame(c,"day")?d.push("fc-today",b.highlightStateClass):a<c?d.push("fc-past"):d.push("fc-future");return d}});g.extend(I.prototype,{mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,segs:null,renderEvents:function(a){a=this.eventsToSegs(a);var b=[],c=[],d,e;for(d=0;d<a.length;d++){e=a[d];var f=Ra(e.event);"background"===f||"inverse-background"===f?b.push(e):c.push(e)}b=
        this.renderBgSegs(b)||b;c=this.renderFgSegs(c)||c;this.segs=b.concat(c)},destroyEvents:function(){this.triggerSegMouseout();this.destroyFgSegs();this.destroyBgSegs();this.segs=null},getSegs:function(){return this.segs||[]},renderFgSegs:function(a){},destroyFgSegs:function(){},renderFgSegEls:function(a,b){var c=this.view,d="",e=[],f;if(a.length){for(f=0;f<a.length;f++)d+=this.fgSegHtml(a[f],b);g(d).each(function(b,d){var f=a[b],p=c.resolveEventEl(f.event,g(d));p&&(p.data("fc-seg",f),f.el=p,e.push(f))})}return e},
        fgSegHtml:function(a,b){},renderBgSegs:function(a){return this.renderFill("bgEvent",a)},destroyBgSegs:function(){this.destroyFill("bgEvent")},bgEventSegEl:function(a,b){return this.view.resolveEventEl(a.event,b)},bgEventSegClasses:function(a){a=a.event;return["fc-bgevent"].concat(a.className,(a.source||{}).className||[])},bgEventSegStyles:function(a){var b=this.view;a=a.event;var c=a.source||{},d=a.color,e=c.color,f=b.opt("eventColor");return(b=a.backgroundColor||d||c.backgroundColor||e||b.opt("eventBackgroundColor")||
        f)?"background-color:"+b:""},businessHoursSegClasses:function(a){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var a=this,b=this.view;g.each({mouseenter:function(b,d){a.triggerSegMouseover(b,d)},mouseleave:function(b,d){a.triggerSegMouseout(b,d)},click:function(a,d){return b.trigger("eventClick",this,a.event,d)},mousedown:function(c,d){g(d.target).is(".fc-resizer")&&b.isEventResizable(c.event)?a.segResizeMousedown(c,d):b.isEventDraggable(c.event)&&a.segDragMousedown(c,d)}},function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   d){a.el.on(b,".fc-event-container > *",function(b){var c=g(this).data("fc-seg");if(c&&!a.isDraggingSeg&&!a.isResizingSeg)return d.call(this,c,b)})})},triggerSegMouseover:function(a,b){this.mousedOverSeg||(this.mousedOverSeg=a,this.view.trigger("eventMouseover",a.el[0],a.event,b))},triggerSegMouseout:function(a,b){b=b||{};this.mousedOverSeg&&(a=a||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",a.el[0],a.event,b))},segDragMousedown:function(a,b){var c=this,d=this.view,
            e=d.calendar,f=a.el,h=a.event,g,m,p=new Pa(a.el,{parentEl:d.el,opacity:d.opt("dragOpacity"),revertDuration:d.opt("dragRevertDuration"),zIndex:2}),l=new Z(d.coordMap,{distance:5,scroll:d.opt("dragScroll"),listenStart:function(a){p.hide();p.start(a)},dragStart:function(b){c.triggerSegMouseout(a,b);c.isDraggingSeg=!0;d.hideEvent(h);d.trigger("eventDragStart",f[0],h,b,{})},cellOver:function(b,f){var r=c.computeDraggedEventDates(a,a.cellDate||l.origDate,f);g=r.start;m=r.end;e.isEventAllowedInRange(h,g,
                r.visibleEnd)?d.renderDrag(g,m,a)?p.hide():p.show():(g=null,p.show(),ba())},cellOut:function(){g=null;d.destroyDrag();p.show();O()},dragStop:function(a){var b=g&&!g.isSame(h.start);p.stop(!b,function(){c.isDraggingSeg=!1;d.destroyDrag();d.showEvent(h);d.trigger("eventDragStop",f[0],h,a,{});b&&d.eventDrop(f[0],h,g,a)});O()},listenStop:function(){p.stop()}});l.mousedown(b)},computeDraggedEventDates:function(a,b,c){var d=this.view;a=a.event;var e=a.start,f=d.calendar.getEventEnd(a);c.hasTime()===b.hasTime()?
            (c=Y(c,b),b=e.clone().add(c),f=null===a.end?null:f.clone().add(c),c=a.allDay):(b=c,f=null,c=!c.hasTime());d=f||d.calendar.getDefaultEventEnd(c,b);return{start:b,end:f,visibleEnd:d}},segResizeMousedown:function(a,b){function c(){d.destroyResize();e.showEvent(k)}var d=this,e=this.view,f=e.calendar,g=a.el,k=a.event,m=k.start,p=e.calendar.getEventEnd(k),l=null;(new Z(this.coordMap,{distance:5,scroll:e.opt("dragScroll"),dragStart:function(b){d.triggerSegMouseout(a,b);d.isResizingSeg=!0;e.trigger("eventResizeStart",
            g[0],k,b,{})},cellOver:function(b,g){g.isBefore(m)&&(g=m);l=g.clone().add(d.cellDuration);f.isEventAllowedInRange(k,m,l)?l.isSame(p)?(l=null,c()):(d.renderResize(m,l,a),e.hideEvent(k)):(l=null,c(),ba())},cellOut:function(){l=null;c();O()},dragStop:function(a){d.isResizingSeg=!1;c();O();e.trigger("eventResizeStop",g[0],k,a,{});l&&e.eventResize(g[0],k,l,a)}})).mousedown(b)},getSegClasses:function(a,b,c){var d=a.event;a=["fc-event",a.isStart?"fc-start":"fc-not-start",a.isEnd?"fc-end":"fc-not-end"].concat(d.className,
            d.source?d.source.className:[]);b&&a.push("fc-draggable");c&&a.push("fc-resizable");return a},getEventSkinCss:function(a){var b=this.view,c=a.source||{},d=a.color,e=c.color,f=b.opt("eventColor"),g=a.backgroundColor||d||c.backgroundColor||e||b.opt("eventBackgroundColor")||f,d=a.borderColor||d||c.borderColor||e||b.opt("eventBorderColor")||f;a=a.textColor||c.textColor||b.opt("eventTextColor");b=[];g&&b.push("background-color:"+g);d&&b.push("border-color:"+d);a&&b.push("color:"+a);return b.join(";")},
        eventsToSegs:function(a,b){var c=this.eventsToRanges(a),d=[],e;for(e=0;e<c.length;e++)d.push.apply(d,this.eventRangeToSegs(c[e],b));return d},eventsToRanges:function(a){var b=this;a=gb(a);var c=[];g.each(a,function(a,e){e.length&&c.push.apply(c,"inverse-background"===Ra(e[0])?b.eventsToInverseRanges(e):b.eventsToNormalRanges(e))});return c},eventsToNormalRanges:function(a){var b=this.view.calendar,c=[],d,e,f,g;for(d=0;d<a.length;d++)e=a[d],f=e.start.clone().stripZone(),g=b.getEventEnd(e).stripZone(),
            c.push({event:e,start:f,end:g,eventStartMS:+f,eventDurationMS:g-f});return c},eventsToInverseRanges:function(a){var b=this.view,c=b.start.clone().stripZone(),b=b.end.clone().stripZone(),d=this.eventsToNormalRanges(a),e=[];a=a[0];var f,g;d.sort(hb);for(f=0;f<d.length;f++)g=d[f],g.start>c&&e.push({event:a,start:c,end:g.start}),c=g.end;c<b&&e.push({event:a,start:c,end:b});return e},eventRangeToSegs:function(a,b){var c,d,e;c=b?b(a.start,a.end):this.rangeToSegs(a.start,a.end);for(d=0;d<c.length;d++)e=
            c[d],e.event=a.event,e.eventStartMS=a.eventStartMS,e.eventDurationMS=a.eventDurationMS;return c}});V.prototype=A(I.prototype);g.extend(V.prototype,{numbersVisible:!1,cellDuration:r.duration({days:1}),bottomCoordPadding:0,rowEls:null,dayEls:null,helperEls:null,render:function(a){var b=this.view,c="",d;for(d=0;d<b.rowCnt;d++)c+=this.dayRowHtml(d,a);this.el.html(c);this.rowEls=this.el.find(".fc-row");this.dayEls=this.el.find(".fc-day");this.dayEls.each(function(a,c){var d=b.cellToDate(Math.floor(a/b.colCnt),
        a%b.colCnt);b.trigger("dayRender",null,d,g(c))});I.prototype.render.call(this)},destroy:function(){this.destroySegPopover()},dayRowHtml:function(a,b){var c=["fc-row","fc-week",this.view.widgetContentClass];b&&c.push("fc-rigid");return'<div class="'+c.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",a)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",a)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(a,b,c){return this.bgCellHtml(a,
        b,c)},buildCoords:function(a,b){var c,d,e;this.dayEls.slice(0,this.view.colCnt).each(function(a,h){c=g(h);d=c.offset().left;a&&(e[1]=d);e=[d];b[a]=e});e[1]=d+c.outerWidth();this.rowEls.each(function(b,h){c=g(h);d=c.offset().top;b&&(e[1]=d);e=[d];a[b]=e});e[1]=d+c.outerHeight()+this.bottomCoordPadding},getCellDate:function(a){return this.view.cellToDate(a)},getCellDayEl:function(a){return this.dayEls.eq(a.row*this.view.colCnt+a.col)},rangeToSegs:function(a,b){return this.view.rangeToSegments(a,b)},
        renderDrag:function(a,b,c){this.renderHighlight(a,b||this.view.calendar.getDefaultEventEnd(!0,a));if(c&&!c.el.closest(this.el).length)return this.renderRangeHelper(a,b,c),a=this.view.opt("dragOpacity"),void 0!==a&&this.helperEls.css("opacity",a),!0},destroyDrag:function(){this.destroyHighlight();this.destroyHelper()},renderResize:function(a,b,c){this.renderHighlight(a,b);this.renderRangeHelper(a,b,c)},destroyResize:function(){this.destroyHighlight();this.destroyHelper()},renderHelper:function(a,b){var c=
            [],d=this.eventsToSegs([a]),e,d=this.renderFgSegEls(d);e=this.renderSegRows(d);this.rowEls.each(function(a,d){var k=g(d),m=g('<div class="fc-helper-skeleton"><table/></div>'),p;p=b&&b.row===a?b.el.position().top:k.find(".fc-content-skeleton tbody").position().top;m.css("top",p).find("table").append(e[a].tbodyEl);k.append(m);c.push(m[0])});this.helperEls=g(c)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(a,b){var c=[],d,
            e,f;b=this.renderFillSegEls(a,b);for(d=0;d<b.length;d++)e=b[d],f=this.renderFillRow(a,e),this.rowEls.eq(e.row).append(f),c.push(f[0]);this.elsByFill[a]=g(c);return b},renderFillRow:function(a,b){var c=this.view.colCnt,d=b.leftCol,e=b.rightCol+1,f,h;f=g('<div class="fc-'+a.toLowerCase()+'-skeleton"><table><tr/></table></div>');h=f.find("tr");0<d&&h.append('<td colspan="'+d+'"/>');h.append(b.el.attr("colspan",e-d));e<c&&h.append('<td colspan="'+(c-e)+'"/>');this.bookendCells(h,a);return f}});g.extend(V.prototype,
        {rowStructs:null,destroyEvents:function(){this.destroySegPopover();I.prototype.destroyEvents.apply(this,arguments)},getSegs:function(){return I.prototype.getSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(a){a=g.grep(a,function(a){return a.event.allDay});return I.prototype.renderBgSegs.call(this,a)},renderFgSegs:function(a){var b;a=this.renderFgSegEls(a);b=this.rowStructs=this.renderSegRows(a);this.rowEls.each(function(a,d){g(d).find(".fc-content-skeleton > table").append(b[a].tbodyEl)});
            return a},destroyFgSegs:function(){for(var a=this.rowStructs||[],b;b=a.pop();)b.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(a){var b=[],c;a=this.groupSegRows(a);for(c=0;c<a.length;c++)b.push(this.renderSegRow(c,a[c]));return b},fgSegHtml:function(a,b){var c=this.view,d=c.opt("isRTL"),e=a.event,f=c.isEventDraggable(e),g=!b&&e.allDay&&a.isEnd&&c.isEventResizable(e),f=this.getSegClasses(a,f,g),k=this.getEventSkinCss(e),m="";f.unshift("fc-day-grid-event");!e.allDay&&a.isStart&&(m='<span class="fc-time">'+
        x(c.getEventTimeText(e))+"</span>");c='<span class="fc-title">'+(x(e.title||"")||"&nbsp;")+"</span>";return'<a class="'+f.join(" ")+'"'+(e.url?' href="'+x(e.url)+'"':"")+(k?' style="'+k+'"':"")+'><div class="fc-content">'+(d?c+" "+m:m+" "+c)+"</div>"+(g?'<div class="fc-resizer"/>':"")+"</a>"},renderSegRow:function(a,b){function c(a){for(;q<a;)(w=(p[l-1]||[])[q])?w.attr("rowspan",parseInt(w.attr("rowspan")||1,10)+1):(w=g("<td/>"),r.append(w)),m[l][q]=w,p[l][q]=w,q++}var d=this.view.colCnt,e=this.buildSegLevels(b),
            f=Math.max(1,e.length),h=g("<tbody/>"),k=[],m=[],p=[],l,n,q,r,z,v,w;for(l=0;l<f;l++){n=e[l];q=0;r=g("<tr/>");k.push([]);m.push([]);p.push([]);if(n)for(z=0;z<n.length;z++){v=n[z];c(v.leftCol);w=g('<td class="fc-event-container"/>').append(v.el);for(v.leftCol!=v.rightCol?w.attr("colspan",v.rightCol-v.leftCol+1):p[l][q]=w;q<=v.rightCol;)m[l][q]=w,k[l][q]=v,q++;r.append(w)}c(d);this.bookendCells(r,"eventSkeleton");h.append(r)}return{row:a,tbodyEl:h,cellMatrix:m,segMatrix:k,segLevels:e,segs:b}},buildSegLevels:function(a){var b=
            [],c,d,e;a.sort(la);for(c=0;c<a.length;c++){d=a[c];for(e=0;e<b.length;e++){var f;a:{f=b[e];for(var g=void 0,k=void 0,g=0;g<f.length;g++)if(k=f[g],k.leftCol<=d.rightCol&&k.rightCol>=d.leftCol){f=!0;break a}f=!1}if(!f)break}d.level=e;(b[e]||(b[e]=[])).push(d)}for(e=0;e<b.length;e++)b[e].sort(ib);return b},groupSegRows:function(a){var b=this.view,c=[],d;for(d=0;d<b.rowCnt;d++)c.push([]);for(d=0;d<a.length;d++)c[a[d].row].push(a[d]);return c}});g.extend(V.prototype,{segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&
    this.segPopover.hide()},limitRows:function(a){var b=this.rowStructs||[],c,d;for(c=0;c<b.length;c++)this.unlimitRow(c),d=a?"number"===typeof a?a:this.computeRowLevelLimit(c):!1,!1!==d&&this.limitRow(c,d)},computeRowLevelLimit:function(a){var b=this.rowEls.eq(a).height();a=this.rowStructs[a].tbodyEl.children();var c,d;for(c=0;c<a.length;c++)if(d=a.eq(c).removeClass("fc-limited"),d.position().top+d.outerHeight()>b)return c;return!1},limitRow:function(a,b){function c(c){for(;k<c;)m={row:a,col:k},v=d.getCellSegs(m,
        b),v.length&&(y=l[b-1][k],B=d.renderMoreLink(m,v),t=g("<div/>").append(B),y.append(t),h.push(t[0])),k++}var d=this,e=this.view,f=this.rowStructs[a],h=[],k=0,m,p,l,n,q,r,v,x,w,y,u,A,C,t,B;if(b&&b<f.segLevels.length){p=f.segLevels[b-1];l=f.cellMatrix;n=f.tbodyEl.children().slice(b).addClass("fc-limited").get();for(q=0;q<p.length;q++){r=p[q];c(r.leftCol);w=[];for(x=0;k<=r.rightCol;)m={row:a,col:k},v=this.getCellSegs(m,b),w.push(v),x+=v.length,k++;if(x){y=l[b-1][r.leftCol];x=y.attr("rowspan")||1;u=[];
        for(A=0;A<w.length;A++)C=g('<td class="fc-more-cell"/>').attr("rowspan",x),v=w[A],m={row:a,col:r.leftCol+A},B=this.renderMoreLink(m,[r].concat(v)),t=g("<div/>").append(B),C.append(t),u.push(C[0]),h.push(C[0]);y.addClass("fc-limited").after(g(u));n.push(y[0])}}c(e.colCnt);f.moreEls=g(h);f.limitedEls=g(n)}},unlimitRow:function(a){a=this.rowStructs[a];a.moreEls&&(a.moreEls.remove(),a.moreEls=null);a.limitedEls&&(a.limitedEls.removeClass("fc-limited"),a.limitedEls=null)},renderMoreLink:function(a,b){var c=
        this,d=this.view;return g('<a class="fc-more"/>').text(this.getMoreLinkText(b.length)).on("click",function(e){var f=d.opt("eventLimitClick"),h=d.cellToDate(a),k=g(this),m=c.getCellDayEl(a),p=c.getCellSegs(a),p=c.resliceDaySegs(p,h),l=c.resliceDaySegs(b,h);"function"===typeof f&&(f=d.trigger("eventLimitClick",null,{date:h,dayEl:m,moreEl:k,segs:p,hiddenSegs:l},e));"popover"===f?c.showSegPopover(h,a,k,p):"string"===typeof f&&d.calendar.zoomTo(h,f)})},showSegPopover:function(a,b,c,d){var e=this,f=this.view;
        c=c.parent();b=1==f.rowCnt?this.view.el:this.rowEls.eq(b.row);a={className:"fc-more-popover",content:this.renderSegPopoverContent(a,d),parentEl:this.el,top:b.offset().top,autoHide:!0,viewportConstrain:f.opt("popoverViewportConstrain"),hide:function(){e.segPopover.destroy();e.segPopover=null;e.popoverSegs=null}};f.opt("isRTL")?a.right=c.offset().left+c.outerWidth()+1:a.left=c.offset().left-1;this.segPopover=new Ma(a);this.segPopover.show()},renderSegPopoverContent:function(a,b){var c=this.view,d=c.opt("theme"),
        e=a.format(c.opt("dayPopoverFormat")),c=g('<div class="fc-header '+c.widgetHeaderClass+'"><span class="fc-close '+(d?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+x(e)+'</span><div class="fc-clear"/></div><div class="fc-body '+c.widgetContentClass+'"><div class="fc-event-container"></div></div>'),d=c.find(".fc-event-container");this.popoverSegs=b=this.renderFgSegEls(b,!0);for(e=0;e<b.length;e++)b[e].cellDate=a,d.append(b[e].el);return c},resliceDaySegs:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 b){var c=g.map(a,function(a){return a.event}),d=b.clone().stripTime(),e=d.clone().add(1,"days");return this.eventsToSegs(c,function(a,b){var c=Ga(a,b,d,e);return c?[c]:[]})},getMoreLinkText:function(a){var b=this.view.opt("eventLimitText");return"function"===typeof b?b(a):"+"+a+" "+b},getCellSegs:function(a,b){for(var c=this.rowStructs[a.row].segMatrix,d=b||0,e=[],f;d<c.length;)(f=c[d][a.col])&&e.push(f),d++;return e}});ca.prototype=A(I.prototype);g.extend(ca.prototype,{slotDuration:null,snapDuration:null,
        minTime:null,maxTime:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,render:function(){this.processOptions();this.el.html(this.renderHtml());this.dayEls=this.el.find(".fc-day");this.slatEls=this.el.find(".fc-slats tr");this.computeSlatTops();this.renderBusinessHours();I.prototype.render.call(this)},renderBusinessHours:function(){var a=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(a),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+
            this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(a,b,c){return this.bgCellHtml(a,b,c)},slatRowHtml:function(){for(var a=this.view,b=a.calendar,c=a.opt("isRTL"),d="",e=0===this.slotDuration.asMinutes()%15,f=r.duration(+this.minTime),g,k;f<this.maxTime;)g=a.start.clone().time(f),k=g.minutes(),g='<td class="fc-axis fc-time '+a.widgetContentClass+'" '+a.axisStyleAttr()+">"+(e&&k?"":"<span>"+x(b.formatDate(g,a.opt("axisFormat")))+
        "</span>")+"</td>",d+="<tr "+(k?'class="fc-minor"':"")+">"+(c?"":g)+'<td class="'+a.widgetContentClass+'"/>'+(c?g:"")+"</tr>",f.add(this.slotDuration);return d},processOptions:function(){var a=this.view,b=a.opt("slotDuration"),c=a.opt("snapDuration"),b=r.duration(b),c=c?r.duration(c):b;this.slotDuration=b;this.cellDuration=this.snapDuration=c;this.minTime=r.duration(a.opt("minTime"));this.maxTime=r.duration(a.opt("maxTime"))},rangeToSegs:function(a,b){var c=this.view,d=[],e,f,g;a=a.clone().stripZone();
            b=b.clone().stripZone();for(f=0;f<c.colCnt;f++)if(g=c.cellToDate(0,f),e=g.clone().time(this.minTime),g=g.clone().time(this.maxTime),e=Ga(a,b,e,g))e.col=f,d.push(e);return d},resize:function(){this.computeSlatTops();this.updateSegVerticals()},buildCoords:function(a,b){var c=this.view.colCnt,d=this.el.offset().top,e=r.duration(+this.minTime),f=null,h,k;this.dayEls.slice(0,c).each(function(a,c){h=g(c);k=h.offset().left;f&&(f[1]=k);f=[k];b[a]=f});f[1]=k+h.outerWidth();for(f=null;e<this.maxTime;)k=d+this.computeTimeTop(e),
        f&&(f[1]=k),f=[k],a.push(f),e.add(this.snapDuration);f[1]=d+this.computeTimeTop(e)},getCellDate:function(a){var b=this.view;return b.calendar.rezoneDate(b.cellToDate(0,a.col).time(this.minTime+this.snapDuration*a.row))},getCellDayEl:function(a){return this.dayEls.eq(a.col)},computeDateTop:function(a,b){return this.computeTimeTop(r.duration(a.clone().stripZone()-b.clone().stripTime()))},computeTimeTop:function(a){var b=(a-this.minTime)/this.slotDuration,c,b=Math.max(0,b),b=Math.min(this.slatEls.length,
            b);a=Math.floor(b);b-=a;c=this.slatTops[a];return b?(a=this.slatTops[a+1],c+(a-c)*b):c},computeSlatTops:function(){var a=[],b;this.slatEls.each(function(c,d){b=g(d).position().top;a.push(b)});a.push(b+this.slatEls.last().outerHeight());this.slatTops=a},renderDrag:function(a,b,c){if(c)return this.renderRangeHelper(a,b,c),a=this.view.opt("dragOpacity"),void 0!==a&&this.helperEl.css("opacity",a),!0;this.renderHighlight(a,b||this.view.calendar.getDefaultEventEnd(!1,a))},destroyDrag:function(){this.destroyHelper();
            this.destroyHighlight()},renderResize:function(a,b,c){this.renderRangeHelper(a,b,c)},destroyResize:function(){this.destroyHelper()},renderHelper:function(a,b){var c=this.eventsToSegs([a]),d,e,f,h,c=this.renderFgSegEls(c);d=this.renderSegTable(c);for(e=0;e<c.length;e++)f=c[e],b&&b.col===f.col&&(h=b.el,f.el.css({left:h.css("left"),right:h.css("right"),"margin-left":h.css("margin-left"),"margin-right":h.css("margin-right")}));this.helperEl=g('<div class="fc-helper-skeleton"/>').append(d).appendTo(this.el)},
        destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(a,b){this.view.opt("selectHelper")?this.renderRangeHelper(a,b):this.renderHighlight(a,b)},destroySelection:function(){this.destroyHelper();this.destroyHighlight()},renderFill:function(a,b,c){var d=this.view,e,f,h,k,m,p,l,n,q;if(b.length){b=this.renderFillSegEls(a,b);e=this.groupSegCols(b);c=c||a.toLowerCase();f=g('<div class="fc-'+c+'-skeleton"><table><tr/></table></div>');h=f.find("tr");
            for(k=0;k<e.length;k++)if(m=e[k],p=g("<td/>").appendTo(h),m.length)for(p=g('<div class="fc-'+c+'-container"/>').appendTo(p),l=d.cellToDate(0,k),n=0;n<m.length;n++)q=m[n],p.append(q.el.css({top:this.computeDateTop(q.start,l),bottom:-this.computeDateTop(q.end,l)}));this.bookendCells(h,a);this.el.append(f);this.elsByFill[a]=f}return b}});g.extend(ca.prototype,{eventSkeletonEl:null,renderFgSegs:function(a){a=this.renderFgSegEls(a);this.el.append(this.eventSkeletonEl=g('<div class="fc-content-skeleton"/>').append(this.renderSegTable(a)));
        return a},destroyFgSegs:function(a){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(a){var b=g("<table><tr/></table>"),c=b.find("tr"),d,e,f,h,k;d=this.groupSegCols(a);this.computeSegVerticals(a);for(a=0;a<d.length;a++){f=h=d[a];k=e=e=void 0;f.sort(la);e=f;f=[];var m=k=void 0,p=void 0;for(k=0;k<e.length;k++){m=e[k];for(p=0;p<f.length&&Ta(m,f[p]).length;p++);m.level=p;(f[p]||(f[p]=[])).push(m)}f=e=f;var l=p=m=k=void 0,n=void 0;for(k=0;k<f.length;k++)for(m=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             f[k],p=0;p<m.length;p++)for(l=m[p],l.forwardSegs=[],n=k+1;n<f.length;n++)Ta(l,f[n],l.forwardSegs);if(e=e[0]){for(k=0;k<e.length;k++)Sa(e[k]);for(k=0;k<e.length;k++)ma(e[k],0,0)}k=g('<div class="fc-event-container"/>');for(e=0;e<h.length;e++)f=h[e],f.el.css(this.generateSegPositionCss(f)),30>f.bottom-f.top&&f.el.addClass("fc-short"),k.append(f.el);c.append(g("<td/>").append(k))}this.bookendCells(c,"eventSkeleton");return b},updateSegVerticals:function(){var a=(this.segs||[]).concat(this.businessHourSegs||
    []),b;this.computeSegVerticals(a);for(b=0;b<a.length;b++)a[b].el.css(this.generateSegVerticalCss(a[b]))},computeSegVerticals:function(a){var b,c;for(b=0;b<a.length;b++)c=a[b],c.top=this.computeDateTop(c.start,c.start),c.bottom=this.computeDateTop(c.end,c.start)},fgSegHtml:function(a,b){var c=this.view,d=a.event,e=c.isEventDraggable(d),f=!b&&a.isEnd&&c.isEventResizable(d),e=this.getSegClasses(a,e,f),g=this.getEventSkinCss(d),k,m,p;e.unshift("fc-time-grid-event");if(c.isMultiDayEvent(d)){if(a.isStart||
        a.isEnd)k=c.getEventTimeText(a.start,a.end),m=c.getEventTimeText(a.start,a.end,"LT"),p=c.getEventTimeText(a.start,null)}else k=c.getEventTimeText(d),m=c.getEventTimeText(d,"LT"),p=c.getEventTimeText(d.start,null);return'<a class="'+e.join(" ")+'"'+(d.url?' href="'+x(d.url)+'"':"")+(g?' style="'+g+'"':"")+'><div class="fc-content">'+(k?'<div class="fc-time" data-start="'+x(p)+'" data-full="'+x(m)+'"><span>'+x(k)+"</span></div>":"")+(d.title?'<div class="fc-title">'+x(d.title)+"</div>":"")+'</div><div class="fc-bg"/>'+
        (f?'<div class="fc-resizer"/>':"")+"</a>"},generateSegPositionCss:function(a){var b=this.view,c=b.opt("isRTL"),b=b.opt("slotEventOverlap"),d=a.backwardCoord,e=a.forwardCoord,f=this.generateSegVerticalCss(a),g;b&&(e=Math.min(1,d+2*(e-d)));c?g=1-e:(g=d,d=1-e);f.zIndex=a.level+1;f.left=100*g+"%";f.right=100*d+"%";b&&a.forwardPressure&&(f[c?"marginLeft":"marginRight"]=20);return f},generateSegVerticalCss:function(a){return{top:a.top,bottom:-a.bottom}},groupSegCols:function(a){var b=this.view,c=[],d;for(d=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    0;d<b.colCnt;d++)c.push([]);for(d=0;d<a.length;d++)c[a[d].col].push(a[d]);return c}});y.prototype={calendar:null,coordMap:null,el:null,start:null,end:null,intervalStart:null,intervalEnd:null,rowCnt:null,colCnt:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,documentMousedownProxy:null,documentDragStartProxy:null,init:function(){var a=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=a+"-widget-header";this.widgetContentClass=
        a+"-widget-content";this.highlightStateClass=a+"-state-highlight";this.documentMousedownProxy=g.proxy(this,"documentMousedown");this.documentDragStartProxy=g.proxy(this,"documentDragStart")},render:function(){this.updateSize();this.trigger("viewRender",this,this,this.el);g(document).on("mousedown",this.documentMousedownProxy).on("dragstart",this.documentDragStartProxy)},destroy:function(){this.unselect();this.trigger("viewDestroy",this,this,this.el);this.destroyEvents();this.el.empty();g(document).off("mousedown",
        this.documentMousedownProxy).off("dragstart",this.documentDragStartProxy)},incrementDate:function(a,b){},updateSize:function(a){a&&this.recordScroll();this.updateHeight();this.updateWidth()},updateWidth:function(){},updateHeight:function(){var a=this.calendar;this.setHeight(a.getSuggestedViewHeight(),a.isHeightAuto())},setHeight:function(a,b){},computeScrollerHeight:function(a){var b=this.el.add(this.scrollerEl),c;b.css({position:"relative",left:-1});c=this.el.outerHeight()-this.scrollerEl.height();
        b.css({position:"",left:""});return a-c},recordScroll:function(){this.scrollerEl&&(this.scrollTop=this.scrollerEl.scrollTop())},restoreScroll:function(){null!==this.scrollTop&&this.scrollerEl.scrollTop(this.scrollTop)},renderEvents:function(a){this.segEach(function(a){this.trigger("eventAfterRender",a.event,a.event,a.el)});this.trigger("eventAfterAllRender")},destroyEvents:function(){this.segEach(function(a){this.trigger("eventDestroy",a.event,a.event,a.el)})},resolveEventEl:function(a,b){var c=this.trigger("eventRender",
        a,a,b);!1===c?b=null:c&&!0!==c&&(b=g(c));return b},showEvent:function(a){this.segEach(function(a){a.el.css("visibility","")},a)},hideEvent:function(a){this.segEach(function(a){a.el.css("visibility","hidden")},a)},segEach:function(a,b){var c=this.getSegs(),d;for(d=0;d<c.length;d++)b&&c[d].event._id!==b._id||a.call(this,c[d])},getSegs:function(){},renderDrag:function(a,b,c){},destroyDrag:function(){},documentDragStart:function(a,b){var c=this,d=this.calendar,e=null,f=null,h=null,k,m,p,l;this.opt("droppable")&&
    (k=g(a.target),m=this.opt("dropAccept"),g.isFunction(m)?m.call(k[0],k):k.is(m))&&(p=kb(k),l=p.eventProps,m=new Z(this.coordMap,{cellOver:function(a,b){e=b;h=(f=p.duration?e.clone().add(p.duration):null)||d.getDefaultEventEnd(!e.hasTime(),e);l&&g.extend(l,{start:e,end:f});d.isExternalDragAllowedInRange(e,h,l)?c.renderDrag(e,h):(e=null,ba())},cellOut:function(){e=null;c.destroyDrag();O()}}),g(document).one("dragstop",function(a,b){var f;c.destroyDrag();O();e&&(p.startTime&&!e.hasTime()&&e.time(p.startTime),
        c.trigger("drop",k[0],e,a,b),l&&(f=d.renderEvent(l,p.stick),c.trigger("eventReceive",null,f[0])))}),m.startDrag(a))},select:function(a,b,c){this.unselect(c);this.renderSelection(a,b);this.reportSelection(a,b,c)},renderSelection:function(a,b){},reportSelection:function(a,b,c){this.isSelected=!0;this.trigger("select",null,a,b,c)},unselect:function(a){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,a))},destroySelection:function(){},documentMousedown:function(a){var b;
        this.isSelected&&this.opt("unselectAuto")&&1==a.which&&!a.ctrlKey&&((b=this.opt("unselectCancel"))&&g(a.target).closest(b).length||this.unselect(a))}};v.dataAttrPrefix="";J.prototype=A(y.prototype);g.extend(J.prototype,{dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,render:function(a,b,c){this.rowCnt=a;this.colCnt=b;this.dayNumbersVisible=c;this.weekNumbersVisible=this.opt("weekNumbers");this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible;
        this.el.addClass("fc-basic-view").html(this.renderHtml());this.headRowEl=this.el.find("thead .fc-row");this.scrollerEl=this.el.find(".fc-day-grid-container");this.dayGrid.coordMap.containerEl=this.scrollerEl;this.dayGrid.el=this.el.find(".fc-day-grid");this.dayGrid.render(this.hasRigidRows());y.prototype.render.call(this)},destroy:function(){this.dayGrid.destroy();y.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+
        '</td></tr></thead><tbody><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){if(this.weekNumbersVisible)return'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+x(this.opt("weekNumberTitle"))+"</span></th>"},numberIntroHtml:function(a){if(this.weekNumbersVisible)return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.calendar.calculateWeekNumber(this.cellToDate(a,
            0))+"</span></td>"},dayIntroHtml:function(){if(this.weekNumbersVisible)return'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>"},introHtml:function(){if(this.weekNumbersVisible)return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>"},numberCellHtml:function(a,b,c){if(!this.dayNumbersVisible)return"<td/>";a=this.dayGrid.getDayClasses(c);a.unshift("fc-day-number");return'<td class="'+a.join(" ")+'" data-date="'+c.format()+'">'+c.date()+"</td>"},
        weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var a=this.opt("eventLimit");return a&&"number"!==typeof a},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=Ca(this.el.find(".fc-week-number")))},setHeight:function(a,b){var c=this.opt("eventLimit"),d;ga(this.scrollerEl);Aa(this.headRowEl);this.dayGrid.destroySegPopover();c&&"number"===typeof c&&this.dayGrid.limitRows(c);d=this.computeScrollerHeight(a);
            this.setGridHeight(d,b);c&&"number"!==typeof c&&this.dayGrid.limitRows(c);!b&&Da(this.scrollerEl,d)&&(za(this.headRowEl,Fa(this.scrollerEl)),d=this.computeScrollerHeight(a),this.scrollerEl.height(d),this.restoreScroll())},setGridHeight:function(a,b){b?this.dayGrid.rowEls.height(""):Ba(this.dayGrid.rowEls,a,!0)},renderEvents:function(a){this.dayGrid.renderEvents(a);this.updateHeight();y.prototype.renderEvents.call(this,a)},getSegs:function(){return this.dayGrid.getSegs()},destroyEvents:function(){y.prototype.destroyEvents.call(this);
            this.recordScroll();this.dayGrid.destroyEvents()},renderDrag:function(a,b,c){return this.dayGrid.renderDrag(a,b,c)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(a,b){this.dayGrid.renderSelection(a,b)},destroySelection:function(){this.dayGrid.destroySelection()}});ta({fixedWeekCount:!0});M.month=na;na.prototype=A(J.prototype);g.extend(na.prototype,{name:"month",incrementDate:function(a,b){return a.clone().stripTime().add(b,"months").startOf("month")},render:function(a){this.intervalStart=
        a.clone().stripTime().startOf("month");this.intervalEnd=this.intervalStart.clone().add(1,"months");this.start=this.intervalStart.clone();this.start=this.skipHiddenDays(this.start);this.start.startOf("week");this.start=this.skipHiddenDays(this.start);this.end=this.intervalEnd.clone();this.end=this.skipHiddenDays(this.end,-1,!0);this.end.add((7-this.end.weekday())%7,"days");this.end=this.skipHiddenDays(this.end,-1,!0);a=Math.ceil(this.end.diff(this.start,"weeks",!0));this.isFixedWeeks()&&(this.end.add(6-
    a,"weeks"),a=6);this.title=this.calendar.formatDate(this.intervalStart,this.opt("titleFormat"));J.prototype.render.call(this,a,this.getCellsPerWeek(),!0)},setGridHeight:function(a,b){(b=b||"variable"===this.opt("weekMode"))&&(a*=this.rowCnt/6);Ba(this.dayGrid.rowEls,a,!b)},isFixedWeeks:function(){var a=this.opt("weekMode");return a?"fixed"===a:this.opt("fixedWeekCount")}});M.basicWeek=oa;oa.prototype=A(J.prototype);g.extend(oa.prototype,{name:"basicWeek",incrementDate:function(a,b){return a.clone().stripTime().add(b,
        "weeks").startOf("week")},render:function(a){this.intervalStart=a.clone().stripTime().startOf("week");this.intervalEnd=this.intervalStart.clone().add(1,"weeks");this.start=this.skipHiddenDays(this.intervalStart);this.end=this.skipHiddenDays(this.intervalEnd,-1,!0);this.title=this.calendar.formatRange(this.start,this.end.clone().subtract(1),this.opt("titleFormat")," \u2014 ");J.prototype.render.call(this,1,this.getCellsPerWeek(),!1)}});M.basicDay=pa;pa.prototype=A(J.prototype);g.extend(pa.prototype,
        {name:"basicDay",incrementDate:function(a,b){var c=a.clone().stripTime().add(b,"days");return c=this.skipHiddenDays(c,0>b?-1:1)},render:function(a){this.start=this.intervalStart=a.clone().stripTime();this.end=this.intervalEnd=this.start.clone().add(1,"days");this.title=this.calendar.formatDate(this.start,this.opt("titleFormat"));J.prototype.render.call(this,1,1,!1)}});ta({allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",axisFormat:function(a,b){return b.longDateFormat("LT").replace(":mm",
        "(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},timeFormat:{agenda:function(a,b){return b.longDateFormat("LT").replace(/\s*a$/i,"")}},minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0});Q.prototype=A(y.prototype);g.extend(Q.prototype,{timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,render:function(a){this.rowCnt=1;this.colCnt=a;this.el.addClass("fc-agenda-view").html(this.renderHtml());this.scrollerEl=this.el.find(".fc-time-grid-container");
        this.timeGrid.coordMap.containerEl=this.scrollerEl;this.timeGrid.el=this.el.find(".fc-time-grid");this.timeGrid.render();this.bottomRuleEl=g('<hr class="'+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);this.dayGrid&&(this.dayGrid.el=this.el.find(".fc-day-grid"),this.dayGrid.render(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight());this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)");y.prototype.render.call(this);this.resetScroll()},destroy:function(){this.timeGrid.destroy();
        this.dayGrid&&this.dayGrid.destroy();y.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="'+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var a,b;return this.opt("weekNumbers")?
        (a=this.cellToDate(0,0),a=this.calendar.calculateWeekNumber(a),b=this.opt("weekNumberTitle"),a=this.opt("isRTL")?a+b:b+a,'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+x(a)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||x(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+
        this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(a){a&&this.timeGrid.resize();y.prototype.updateSize.call(this,a)},updateWidth:function(){this.axisWidth=Ca(this.el.find(".fc-axis"))},setHeight:function(a,b){var c;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight());
        this.bottomRuleEl.hide();this.scrollerEl.css("overflow","");ga(this.scrollerEl);Aa(this.noScrollRowEls);this.dayGrid&&(this.dayGrid.destroySegPopover(),(c=this.opt("eventLimit"))&&"number"!==typeof c&&(c=5),c&&this.dayGrid.limitRows(c));b||(c=this.computeScrollerHeight(a),Da(this.scrollerEl,c)?(za(this.noScrollRowEls,Fa(this.scrollerEl)),c=this.computeScrollerHeight(a),this.scrollerEl.height(c),this.restoreScroll()):(this.scrollerEl.height(c).css("overflow","hidden"),this.bottomRuleEl.show()))},resetScroll:function(){function a(){b.scrollerEl.scrollTop(d)}
        var b=this,c=r.duration(this.opt("scrollTime")),d=this.timeGrid.computeTimeTop(c);(d=Math.ceil(d))&&d++;a();setTimeout(a,0)},renderEvents:function(a){var b=[],c=[],d;for(d=0;d<a.length;d++)a[d].allDay?b.push(a[d]):c.push(a[d]);this.timeGrid.renderEvents(c);this.dayGrid&&this.dayGrid.renderEvents(b);this.updateHeight();y.prototype.renderEvents.call(this,a)},getSegs:function(){return this.timeGrid.getSegs().concat(this.dayGrid?this.dayGrid.getSegs():[])},destroyEvents:function(){y.prototype.destroyEvents.call(this);
        this.recordScroll();this.timeGrid.destroyEvents();this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(a,b,c){if(a.hasTime())return this.timeGrid.renderDrag(a,b,c);if(this.dayGrid)return this.dayGrid.renderDrag(a,b,c)},destroyDrag:function(){this.timeGrid.destroyDrag();this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(a,b){a.hasTime()||b.hasTime()?this.timeGrid.renderSelection(a,b):this.dayGrid&&this.dayGrid.renderSelection(a,b)},destroySelection:function(){this.timeGrid.destroySelection();
        this.dayGrid&&this.dayGrid.destroySelection()}});M.agendaWeek=qa;qa.prototype=A(Q.prototype);g.extend(qa.prototype,{name:"agendaWeek",incrementDate:function(a,b){return a.clone().stripTime().add(b,"weeks").startOf("week")},render:function(a){this.intervalStart=a.clone().stripTime().startOf("week");this.intervalEnd=this.intervalStart.clone().add(1,"weeks");this.start=this.skipHiddenDays(this.intervalStart);this.end=this.skipHiddenDays(this.intervalEnd,-1,!0);this.title=this.calendar.formatRange(this.start,
        this.end.clone().subtract(1),this.opt("titleFormat")," \u2014 ");Q.prototype.render.call(this,this.getCellsPerWeek())}});M.agendaDay=ra;ra.prototype=A(Q.prototype);g.extend(ra.prototype,{name:"agendaDay",incrementDate:function(a,b){var c=a.clone().stripTime().add(b,"days");return c=this.skipHiddenDays(c,0>b?-1:1)},render:function(a){this.start=this.intervalStart=a.clone().stripTime();this.end=this.intervalEnd=this.start.clone().add(1,"days");this.title=this.calendar.formatDate(this.start,this.opt("titleFormat"));
        Q.prototype.render.call(this,1)}})});